<HTML>
<STYLE>
A:link {text-decoration: underline; color: darkmagenta;}
A:visited {text-decoration: underline; color: darkmagenta;}
#f0 { font-family: "Helvetica"; font-size: 10pt;  }
#f1 { font-family: "SansSerif"; font-size: 10pt;  }
#f2 { font-family: "SansSerif"; font-size: 8pt;  }
#f3 { font-family: "SansSerif"; font-size: 14pt; font-style: italic; font-weight: bold; color: #FFFFFF;  }
#f4 { font-family: "SansSerif"; font-size: 12pt; font-weight: bold; color: #FFFFFF;  }
#f5 { font-family: "SansSerif"; font-size: 12pt; font-style: italic;  }
#f6 { font-family: "SansSerif"; font-size: 12pt; font-weight: bold;  }
#f7 { font-family: "SansSerif"; font-size: 8pt; font-weight: bold;  }
#f8 { font-family: "SansSerif"; font-size: 9pt; font-style: italic; font-weight: bold;  }
#f9 { font-family: "SansSerif"; font-size: 11pt; font-style: italic; font-weight: bold;  }
#f10 { font-family: "SansSerif"; font-size: 10pt; font-style: italic;  }
#f11 { font-family: "SansSerif"; font-size: 10pt; font-weight: bold;  }
#f12 { font-family: "SansSerif"; font-size: 10pt; font-style: italic; font-weight: bold;  }
#f13 { font-family: "monospace"; font-size: 9pt;  }
#f14 { font-family: "SansSerif"; font-size: 8pt; font-style: italic;  }
#f15 { font-family: "SansSerif"; font-size: 9pt;  }
#f16 { font-family: "SansSerif"; font-size: 9pt; font-weight: bold;  }
#f17 { font-family: "SansSerif"; font-size: 9pt; font-weight: bold; color: #800080;  }
#f18 { font-family: "SansSerif"; font-size: 8pt; font-style: italic; font-weight: bold;  }
</STYLE>
<BODY BGCOLOR="white">
<BASEFONT ID="f0">
<DIV STYLE="margin-left:2pt;margin-top:6pt;"><IMG SRC="doc-images/ClassDiagram2.png"> <FONT ID="f6">Class Diagram</FONT> <FONT ID="f5"><U>Service interfaces</U></FONT></DIV>
<DIV STYLE="margin-left:3pt;margin-top:4pt;"><FONT ID="f2">package:</FONT> <FONT ID="f7"><A HREF="Package.html">webapps.Axis</A></FONT></DIV>
<DIV STYLE="margin-top:16pt;margin-left:2pt;"><IMG SRC="doc-images/Service interfaces_ClassDiagram.gif" USEMAP="#M1"><MAP NAME="M1"></MAP></DIV>
<DIV STYLE="margin-top:11pt;margin-left:2pt;"><FONT ID="f2"><h2>WSDL contracts and Java interfaces for an AstroGrid web-service</h2><p>The web-service is defined by a Java interface coded by the author. From this are derived two WSDL contracts, one available at compile time and one at run time, after the service is deployed. </p><p>Each contract contains a port-type, a SOAP/HTTP binding for the port-type, and a WSDL service containing just the one port made from the single binding. The two contracts are equivalent but may use different names for their elements. The compile-time contract  has a default service-endpoint, while the run-time contract contains the true endpoint determined by deployment of the service. </p><p>For modelling purposes, the port-type is a specialization of the service-definition interface, the binding is a specialization of the port-type and the WSDL service-element is a specialization of the binding.  All these specializations are trivial: no extra attributes and operations are modelled (although the binding could be modelled to show the encoding details). The WSDL service is thus the interface that represents the web-service on component diagrams. </p><p>The compile-time contract is derived from the service definition in Java. The derivation may either be part of the build process, using Axis tools, or it may have been done as part of coding. In the latter case, the contract is stored in a .wsdl file which may (but need not) be included in the web application.</p><p>The run-time contract is typically derived from introspection, by the Axis framework, of the service implementation-class. Since the implementation class formally implements the service-definition interface, this means that the run-time contract is closely equivalent to the compile-time contract.  
</p> <p>  
Alternatively, the run-time contract may be derived from the compile-time contract, given that the latter is present in the web application as a .wsdl file.  
In this case, the Axis framework just corrects the endpoint to match the deployment.  
</p><p>The client stub contains the logic to map the Java interface to SOAP messages. This is derived from the compile-time contract using Axis tools (WSDL2Java). The delegate, which is hand-coded Java rather than generated code is a facade for the stub code. Delegates have several uses:</p><ul><li>Generating Javadoc. The client stub is frequently not included in the published Javadoc; the delegate supplies the interface documentation.</li><li>Adding stability. If the contract changes often during development, the delegate maintains a stable interface for the clients.</li> <li>Improving semantics.</li> The delegate may add or modify semantics; e.g. it may cache some metadata that are obtained from the service, or it may provide convenience functions that invoke a series of related operations on the service.</li> </ul>
<p>
<b>Note:</b><br>
A given run-time contract is derived 
either from the compile-time contract 
or from the implementation class 
but not from both.</FONT></DIV>
<DIV STYLE="margin-top:19pt;"><FONT ID="f8" STYLE="background-color:#DCDCDC;">Shortcuts to Elements</FONT></DIV>
<DIV STYLE="margin-left:3pt;margin-top:9pt;"><IMG SRC="doc-images/icon_s6.png"> <FONT ID="f14">of</FONT> <FONT ID="f18">ClassDiagram</FONT> <FONT ID="f14"><U>Axis</U></FONT></DIV>
<DIV STYLE="margin-left:13pt;margin-top:6pt;"><IMG SRC="doc-images/tv-interface2.png"> <FONT ID="f7">Interface </FONT><FONT ID="f2"><U>webapps.Axis.Binding</U></FONT></DIV>
<DIV STYLE="margin-left:3pt;margin-top:9pt;"><IMG SRC="doc-images/icon_s6.png"> <FONT ID="f14">of</FONT> <FONT ID="f18">ClassDiagram</FONT> <FONT ID="f14"><U>Axis</U></FONT></DIV>
<DIV STYLE="margin-left:13pt;margin-top:6pt;"><IMG SRC="doc-images/tv-interface2.png"> <FONT ID="f7">Interface </FONT><FONT ID="f2"><U>webapps.Axis.CompileTimeContract</U></FONT></DIV>
<DIV STYLE="margin-left:3pt;margin-top:9pt;"><IMG SRC="doc-images/icon_s6.png"> <FONT ID="f14">of</FONT> <FONT ID="f18">ClassDiagram</FONT> <FONT ID="f14"><U>Axis</U></FONT></DIV>
<DIV STYLE="margin-left:13pt;margin-top:6pt;"><IMG SRC="doc-images/tv-interface2.png"> <FONT ID="f7">Interface </FONT><FONT ID="f2"><U>webapps.Axis.PortType</U></FONT></DIV>
<DIV STYLE="margin-left:3pt;margin-top:9pt;"><IMG SRC="doc-images/icon_s6.png"> <FONT ID="f14">of</FONT> <FONT ID="f18">ClassDiagram</FONT> <FONT ID="f14"><U>Axis</U></FONT></DIV>
<DIV STYLE="margin-left:13pt;margin-top:6pt;"><IMG SRC="doc-images/tv-interface2.png"> <FONT ID="f7">Interface </FONT><FONT ID="f2"><U>webapps.Axis.RunTimeContract</U></FONT></DIV>
<DIV STYLE="margin-left:3pt;margin-top:9pt;"><IMG SRC="doc-images/icon_s6.png"> <FONT ID="f14">of</FONT> <FONT ID="f18">ClassDiagram</FONT> <FONT ID="f14"><U>Axis</U></FONT></DIV>
<DIV STYLE="margin-left:13pt;margin-top:6pt;"><IMG SRC="doc-images/tv-interface2.png"> <FONT ID="f7">Interface </FONT><FONT ID="f2"><U>webapps.Axis.Service</U></FONT></DIV>
<DIV STYLE="margin-left:3pt;margin-top:9pt;"><IMG SRC="doc-images/icon_s6.png"> <FONT ID="f14">of</FONT> <FONT ID="f18">ClassDiagram</FONT> <FONT ID="f14"><U>Axis</U></FONT></DIV>
<DIV STYLE="margin-left:13pt;margin-top:6pt;"><IMG SRC="doc-images/tv-interface2.png"> <FONT ID="f7">Interface </FONT><FONT ID="f2"><U>webapps.Axis.ServiceDefinition</U></FONT></DIV>
<DIV STYLE="margin-left:3pt;margin-top:9pt;"><IMG SRC="doc-images/icon_s6.png"> <FONT ID="f14">of</FONT> <FONT ID="f18">ClassDiagram</FONT> <FONT ID="f14"><U>Axis</U></FONT></DIV>
<DIV STYLE="margin-left:13pt;margin-top:6pt;"><IMG SRC="doc-images/tv-class2.png"> <FONT ID="f7">Class </FONT><FONT ID="f2"><U>webapps.Axis.ServiceImplementation</U></FONT></DIV>
</BODY>
</HTML>
