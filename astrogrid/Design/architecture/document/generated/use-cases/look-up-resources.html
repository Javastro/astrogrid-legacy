<HTML>
<STYLE>
A:link {text-decoration: underline; color: darkmagenta;}
A:visited {text-decoration: underline; color: darkmagenta;}
#f0 { font-family: "Helvetica"; font-size: 10pt;  }
#f1 { font-family: "SansSerif"; font-size: 10pt;  }
#f2 { font-family: "SansSerif"; font-size: 8pt;  }
#f3 { font-family: "SansSerif"; font-size: 14pt; font-style: italic; font-weight: bold; color: #FFFFFF;  }
#f4 { font-family: "SansSerif"; font-size: 12pt; font-weight: bold; color: #FFFFFF;  }
#f5 { font-family: "SansSerif"; font-size: 12pt; font-style: italic;  }
#f6 { font-family: "SansSerif"; font-size: 12pt; font-weight: bold;  }
#f7 { font-family: "SansSerif"; font-size: 8pt; font-weight: bold;  }
#f8 { font-family: "SansSerif"; font-size: 10pt; font-style: italic; font-weight: bold;  }
#f9 { font-family: "SansSerif"; font-size: 11pt; font-style: italic; font-weight: bold;  }
#f10 { font-family: "SansSerif"; font-size: 10pt; font-style: italic;  }
#f11 { font-family: "SansSerif"; font-size: 10pt; font-weight: bold;  }
#f12 { font-family: "SansSerif"; font-size: 9pt; font-style: italic; font-weight: bold;  }
#f13 { font-family: "SansSerif"; font-size: 9pt; font-weight: bold;  }
#f14 { font-family: "SansSerif"; font-size: 9pt;  }
#f15 { font-family: "SansSerif"; font-size: 8pt; font-style: italic;  }
#f16 { font-family: "monospace"; font-size: 9pt;  }
#f17 { font-family: "SansSerif"; font-size: 9pt; font-weight: bold; color: #800080;  }
#f18 { font-family: "SansSerif"; font-size: 8pt; font-style: italic; font-weight: bold;  }
</STYLE>
<BODY BGCOLOR="white">
<BASEFONT ID="f0">
<DIV STYLE="margin-left:2pt;margin-top:5pt;"><IMG SRC="doc-images/ActivityDiagram7.png"> <FONT ID="f6">Activity Diagram</FONT> <FONT ID="f5"><U>look-up-resources</U></FONT></DIV>
<DIV STYLE="margin-left:3pt;margin-top:4pt;"><FONT ID="f2">package:</FONT> <FONT ID="f7"><A HREF="Package.html">use-cases</A></FONT></DIV>
<DIV STYLE="margin-top:16pt;margin-left:2pt;"><IMG SRC="doc-images/look-up-resources_ActivityDiagram.gif" USEMAP="#M1"><MAP NAME="M1"><AREA SHAPE="rect" COORDS="70,360,249,401" HREF="look-up-resources.html#R1"><AREA SHAPE="rect" COORDS="70,180,250,216" HREF="look-up-resources.html#R2"><AREA SHAPE="rect" COORDS="70,110,240,148" HREF="look-up-resources.html#R3"><AREA SHAPE="rect" COORDS="70,50,250,94" HREF="look-up-resources.html#R4"><AREA SHAPE="rect" COORDS="330,320,510,351" HREF="look-up-resources.html#R5"><AREA SHAPE="rect" COORDS="330,230,505,259" HREF="look-up-resources.html#R6"><AREA SHAPE="rect" COORDS="350,170,503,206" HREF="look-up-resources.html#R7"><AREA SHAPE="rect" COORDS="580,360,751,403" HREF="look-up-resources.html#R8"><AREA SHAPE="rect" COORDS="595,221,733,256" HREF="look-up-resources.html#R9"><AREA SHAPE="rect" COORDS="590,270,730,306" HREF="look-up-resources.html#R10"><AREA SHAPE="rect" COORDS="60,440,262,480" HREF="look-up-resources.html#R11"><AREA SHAPE="rect" COORDS="559,20,770,420" HREF="look-up-resources.html#R12"><AREA SHAPE="rect" COORDS="37,20,280,420" HREF="look-up-resources.html#R13"><AREA SHAPE="rect" COORDS="300,21,540,420" HREF="look-up-resources.html#R14"></MAP></DIV>
<DIV STYLE="margin-top:16pt;margin-left:2pt;"><FONT ID="f8" STYLE="background-color:#DCDCDC;">Diagram Contents Summary</FONT></DIV>
<DIV STYLE="margin-left:10pt;margin-top:8pt;"><IMG SRC="doc-images/tv-swimLane3.png"> <FONT ID="f7">Swim Lane </FONT><FONT ID="f2"><U><A HREF="look-up-resources.html#R12">eXist</A></U></FONT></DIV>
<DIV STYLE="margin-left:31pt;margin-top:2pt;"><IMG SRC="doc-images/tv-activity7.png"> <FONT ID="f7">Activity </FONT><FONT ID="f2"><U><A HREF="look-up-resources.html#R10">Search DB</A></U></FONT></DIV>
<DIV STYLE="margin-left:31pt;margin-top:3pt;"><IMG SRC="doc-images/tv-object3.png"> <FONT ID="f7">Object </FONT><FONT ID="f2"><U><A HREF="look-up-resources.html#R8">result</A></U></FONT></DIV>
<DIV STYLE="margin-left:31pt;margin-top:2pt;"><IMG SRC="doc-images/tv-object3.png"> <FONT ID="f7">Object </FONT><FONT ID="f2"><U><A HREF="look-up-resources.html#R9">xql</A></U></FONT></DIV>
<DIV STYLE="margin-left:10pt;margin-top:1pt;"><IMG SRC="doc-images/tv-swimLane3.png"> <FONT ID="f7">Swim Lane </FONT><FONT ID="f2"><U><A HREF="look-up-resources.html#R13">Portal</A></U></FONT></DIV>
<DIV STYLE="margin-left:31pt;margin-top:2pt;"><IMG SRC="doc-images/tv-activity7.png"> <FONT ID="f7">Activity </FONT><FONT ID="f2"><U><A HREF="look-up-resources.html#R1">Browse results</A></U></FONT></DIV>
<DIV STYLE="margin-left:31pt;margin-top:2pt;"><IMG SRC="doc-images/tv-activity7.png"> <FONT ID="f7">Activity </FONT><FONT ID="f2"><U><A HREF="look-up-resources.html#R3">Enter search terms</A></U></FONT></DIV>
<DIV STYLE="margin-left:31pt;margin-top:2pt;"><IMG SRC="doc-images/tv-activity7.png"> <FONT ID="f7">Activity </FONT><FONT ID="f2"><U><A HREF="look-up-resources.html#R4">Navigate to registry-search page</A></U></FONT></DIV>
<DIV STYLE="margin-left:31pt;margin-top:2pt;"><IMG SRC="doc-images/tv-activity7.png"> <FONT ID="f7">Activity </FONT><FONT ID="f2"><U><A HREF="look-up-resources.html#R2">Query registry</A></U></FONT></DIV>
<DIV STYLE="margin-left:10pt;margin-top:2pt;"><IMG SRC="doc-images/tv-swimLane3.png"> <FONT ID="f7">Swim Lane </FONT><FONT ID="f2"><U><A HREF="look-up-resources.html#R14">Registry</A></U></FONT></DIV>
<DIV STYLE="margin-left:31pt;margin-top:2pt;"><IMG SRC="doc-images/tv-activity7.png"> <FONT ID="f7">Activity </FONT><FONT ID="f2"><U><A HREF="look-up-resources.html#R6">Forward query</A></U></FONT></DIV>
<DIV STYLE="margin-left:31pt;margin-top:2pt;"><IMG SRC="doc-images/tv-activity7.png"> <FONT ID="f7">Activity </FONT><FONT ID="f2"><U><A HREF="look-up-resources.html#R5">Forward results</A></U></FONT></DIV>
<DIV STYLE="margin-left:31pt;margin-top:3pt;"><IMG SRC="doc-images/tv-object3.png"> <FONT ID="f7">Object </FONT><FONT ID="f2"><U><A HREF="look-up-resources.html#R7">query</A></U></FONT></DIV>
<DIV STYLE="margin-left:10pt;margin-top:2pt;"><IMG SRC="doc-images/tv-object3.png"> <FONT ID="f7">Object </FONT><FONT ID="f2"><U><A HREF="look-up-resources.html#R11">listOfResources</A></U></FONT></DIV>
<DIV STYLE="margin-top:12pt;margin-left:2pt;"><TABLE BORDER="0" CELLSPACING="0" CELLPADDING="2" WIDTH="98%"><TR BGCOLOR="#C0C0C0"><TD><FONT ID="f9">Swim Lane Detail</FONT></TD></TR></TABLE></DIV>
<DIV STYLE="margin-left:2pt;margin-top:11pt;"><IMG SRC="doc-images/SwimLane3.png"> <FONT ID="f11"><A NAME="R12"></A>Swim Lane </FONT><FONT ID="f10">eXist</FONT></DIV>
<DIV STYLE="margin-left:16pt;margin-top:9pt;"><FONT ID="f7">backgroundColor</FONT><FONT ID="f7">:</FONT></DIV>
<DIV STYLE="margin-top:2pt;margin-left:25pt;"><FONT ID="f2">200,200,200</FONT></DIV>
<DIV STYLE="margin-top:16pt;margin-left:17pt;"><FONT ID="f8" STYLE="background-color:#C0C0C0;">Contained Elements</FONT></DIV>
<DIV STYLE="margin-left:17pt;margin-top:11pt;"><IMG SRC="doc-images/Activity7.png"> <FONT ID="f11"><A NAME="R10"></A>Activity </FONT><FONT ID="f10">Search DB</FONT></DIV>
<DIV STYLE="margin-top:8pt;margin-left:31pt;"><FONT ID="f2">eXist receives the XQuery and executes it against the XML DB. The result is a VODescription element containing VOResource elements matching the query criteria.</FONT></DIV>
<DIV STYLE="margin-top:13pt;margin-left:31pt;"><FONT ID="f12" STYLE="background-color:#DCDCDC;">Transition links</FONT></DIV>
<DIV STYLE="margin-left:37pt;margin-top:8pt;"><FONT ID="f14"><A NAME="R15"></A>to</FONT><FONT ID="f14"> </FONT><FONT ID="f13">Activity</FONT><FONT ID="f14"> </FONT><FONT ID="f14"><U><A HREF="look-up-resources.html#R5">Forward results</A></U></FONT></DIV>
<DIV STYLE="margin-top:13pt;margin-left:31pt;"><FONT ID="f12" STYLE="background-color:#DCDCDC;">Object Flow Links</FONT></DIV>
<DIV STYLE="margin-left:37pt;margin-top:8pt;"><FONT ID="f14"><A NAME="R16"></A>to</FONT><FONT ID="f14"> </FONT><FONT ID="f13">Object</FONT><FONT ID="f14"> </FONT><FONT ID="f14"><U><A HREF="look-up-resources.html#R8">result</A></U></FONT></DIV>
<DIV STYLE="margin-left:17pt;margin-top:16pt;"><IMG SRC="doc-images/Object3.png"> <FONT ID="f11"><A NAME="R8"></A>Object </FONT> <FONT ID="f10">result</FONT></DIV>
<DIV STYLE="margin-left:17pt;margin-top:14pt;"><IMG SRC="doc-images/Object3.png"> <FONT ID="f11"><A NAME="R9"></A>Object </FONT> <FONT ID="f10">xql</FONT></DIV>
<DIV STYLE="margin-left:2pt;margin-top:14pt;"><IMG SRC="doc-images/SwimLane3.png"> <FONT ID="f11"><A NAME="R13"></A>Swim Lane </FONT><FONT ID="f10">Portal</FONT></DIV>
<DIV STYLE="margin-left:16pt;margin-top:9pt;"><FONT ID="f7">backgroundColor</FONT><FONT ID="f7">:</FONT></DIV>
<DIV STYLE="margin-top:2pt;margin-left:25pt;"><FONT ID="f2">200,200,200</FONT></DIV>
<DIV STYLE="margin-top:16pt;margin-left:17pt;"><FONT ID="f8" STYLE="background-color:#C0C0C0;">Contained Elements</FONT></DIV>
<DIV STYLE="margin-left:17pt;margin-top:11pt;"><IMG SRC="doc-images/Activity7.png"> <FONT ID="f11"><A NAME="R1"></A>Activity </FONT><FONT ID="f10">Browse results</FONT></DIV>
<DIV STYLE="margin-top:8pt;margin-left:31pt;"><FONT ID="f2">Portal displays the results. For each VOResource in the results, Portal displays a summary together with links to pages for viewing the XML form of the VOResource and for updating the registration.</FONT></DIV>
<DIV STYLE="margin-top:13pt;margin-left:31pt;"><FONT ID="f12" STYLE="background-color:#DCDCDC;">Object Flow Links</FONT></DIV>
<DIV STYLE="margin-left:37pt;margin-top:8pt;"><FONT ID="f14"><A NAME="R17"></A>to</FONT><FONT ID="f14"> </FONT><FONT ID="f13">Object</FONT><FONT ID="f14"> </FONT><FONT ID="f14"><U><A HREF="look-up-resources.html#R11">listOfResources</A></U></FONT></DIV>
<DIV STYLE="margin-left:17pt;margin-top:16pt;"><IMG SRC="doc-images/Activity7.png"> <FONT ID="f11"><A NAME="R3"></A>Activity </FONT><FONT ID="f10">Enter search terms</FONT></DIV>
<DIV STYLE="margin-top:8pt;margin-left:31pt;"><FONT ID="f2">User enters one or more search expressions. Each expression is a contraint on a metadatum that might be found in the registration of the resource: e.g.  
</p> 
<ul> 
<li>AuthorityID</li> 
<li>Subject</li> 
<li>Type</li> 
<li>AccessURL</li> 
</ul> 
<p> 
The expressions are linked by Boolean operators.
</p>
<p>
In order to build a sensible query, user needs to know what the individual metadata mean in the IVOA schemata for resource-metadata. Portal offers no aids to understanding this.
</p></FONT></DIV>
<DIV STYLE="margin-top:13pt;margin-left:31pt;"><FONT ID="f12" STYLE="background-color:#DCDCDC;">Transition links</FONT></DIV>
<DIV STYLE="margin-left:37pt;margin-top:8pt;"><FONT ID="f14"><A NAME="R18"></A>to</FONT><FONT ID="f14"> </FONT><FONT ID="f13">Activity</FONT><FONT ID="f14"> </FONT><FONT ID="f14"><U><A HREF="look-up-resources.html#R2">Query registry</A></U></FONT></DIV>
<DIV STYLE="margin-left:17pt;margin-top:16pt;"><IMG SRC="doc-images/Activity7.png"> <FONT ID="f11"><A NAME="R4"></A>Activity </FONT><FONT ID="f10">Navigate to registry-search page</FONT></DIV>
<DIV STYLE="margin-top:8pt;margin-left:31pt;"><FONT ID="f2">User navigates, with a web browser, to the Portal page for querying the registry. This page is a web-form for building up and submitting a registray query. There is currently no facility to browse the registry as a hyperlinked tree of resource descriptions.</FONT></DIV>
<DIV STYLE="margin-top:13pt;margin-left:31pt;"><FONT ID="f12" STYLE="background-color:#DCDCDC;">Transition links</FONT></DIV>
<DIV STYLE="margin-left:37pt;margin-top:8pt;"><FONT ID="f14"><A NAME="R19"></A>to</FONT><FONT ID="f14"> </FONT><FONT ID="f13">Activity</FONT><FONT ID="f14"> </FONT><FONT ID="f14"><U><A HREF="look-up-resources.html#R3">Enter search terms</A></U></FONT></DIV>
<DIV STYLE="margin-left:17pt;margin-top:16pt;"><IMG SRC="doc-images/Activity7.png"> <FONT ID="f11"><A NAME="R2"></A>Activity </FONT><FONT ID="f10">Query registry</FONT></DIV>
<DIV STYLE="margin-top:8pt;margin-left:31pt;"><FONT ID="f2"><p>
User submits the form with the search items. Portal forms this into an org.w3c.dom.Document expressing an XQuery (in XQueryX?) and sends it to Registry.
</p>
<p>
Portal is configured to talk to one specific registry, which is assumed to know all relevant resource via the harvesting mechanism. User has no controls for sending the query to a different registry.
</p></FONT></DIV>
<DIV STYLE="margin-top:13pt;margin-left:31pt;"><FONT ID="f12" STYLE="background-color:#DCDCDC;">Transition links</FONT></DIV>
<DIV STYLE="margin-left:37pt;margin-top:8pt;"><FONT ID="f14"><A NAME="R20"></A>to</FONT><FONT ID="f14"> </FONT><FONT ID="f13">Activity</FONT><FONT ID="f14"> </FONT><FONT ID="f14"><U><A HREF="look-up-resources.html#R6">Forward query</A></U></FONT></DIV>
<DIV STYLE="margin-top:13pt;margin-left:31pt;"><FONT ID="f12" STYLE="background-color:#DCDCDC;">Object Flow Links</FONT></DIV>
<DIV STYLE="margin-left:37pt;margin-top:8pt;"><FONT ID="f14"><A NAME="R21"></A>to</FONT><FONT ID="f14"> </FONT><FONT ID="f13">Object</FONT><FONT ID="f14"> </FONT><FONT ID="f14"><U><A HREF="look-up-resources.html#R7">query</A></U></FONT></DIV>
<DIV STYLE="margin-left:2pt;margin-top:16pt;"><IMG SRC="doc-images/SwimLane3.png"> <FONT ID="f11"><A NAME="R14"></A>Swim Lane </FONT><FONT ID="f10">Registry</FONT></DIV>
<DIV STYLE="margin-left:16pt;margin-top:9pt;"><FONT ID="f7">backgroundColor</FONT><FONT ID="f7">:</FONT></DIV>
<DIV STYLE="margin-top:2pt;margin-left:25pt;"><FONT ID="f2">200,200,200</FONT></DIV>
<DIV STYLE="margin-top:16pt;margin-left:17pt;"><FONT ID="f8" STYLE="background-color:#C0C0C0;">Contained Elements</FONT></DIV>
<DIV STYLE="margin-left:17pt;margin-top:11pt;"><IMG SRC="doc-images/Activity7.png"> <FONT ID="f11"><A NAME="R6"></A>Activity </FONT><FONT ID="f10">Forward query</FONT></DIV>
<DIV STYLE="margin-top:8pt;margin-left:31pt;"><FONT ID="f2">Registry receives the query document, extracts the XQuery as a String and forwards it to eXist.</FONT></DIV>
<DIV STYLE="margin-top:13pt;margin-left:31pt;"><FONT ID="f12" STYLE="background-color:#DCDCDC;">Transition links</FONT></DIV>
<DIV STYLE="margin-left:37pt;margin-top:8pt;"><FONT ID="f14"><A NAME="R22"></A>to</FONT><FONT ID="f14"> </FONT><FONT ID="f13">Activity</FONT><FONT ID="f14"> </FONT><FONT ID="f14"><U><A HREF="look-up-resources.html#R10">Search DB</A></U></FONT></DIV>
<DIV STYLE="margin-top:13pt;margin-left:31pt;"><FONT ID="f12" STYLE="background-color:#DCDCDC;">Object Flow Links</FONT></DIV>
<DIV STYLE="margin-left:37pt;margin-top:8pt;"><FONT ID="f14"><A NAME="R23"></A>to</FONT><FONT ID="f14"> </FONT><FONT ID="f13">Object</FONT><FONT ID="f14"> </FONT><FONT ID="f14"><U><A HREF="look-up-resources.html#R9">xql</A></U></FONT></DIV>
<DIV STYLE="margin-left:17pt;margin-top:16pt;"><IMG SRC="doc-images/Activity7.png"> <FONT ID="f11"><A NAME="R5"></A>Activity </FONT><FONT ID="f10">Forward results</FONT></DIV>
<DIV STYLE="margin-top:8pt;margin-left:31pt;"><FONT ID="f2">Registry receives the results sent by eXist and sends them on to Portal unchanged.</FONT></DIV>
<DIV STYLE="margin-top:13pt;margin-left:31pt;"><FONT ID="f12" STYLE="background-color:#DCDCDC;">Transition links</FONT></DIV>
<DIV STYLE="margin-left:37pt;margin-top:8pt;"><FONT ID="f14"><A NAME="R24"></A>to</FONT><FONT ID="f14"> </FONT><FONT ID="f13">Activity</FONT><FONT ID="f14"> </FONT><FONT ID="f14"><U><A HREF="look-up-resources.html#R1">Browse results</A></U></FONT></DIV>
<DIV STYLE="margin-left:17pt;margin-top:16pt;"><IMG SRC="doc-images/Object3.png"> <FONT ID="f11"><A NAME="R7"></A>Object </FONT> <FONT ID="f10">query</FONT></DIV>
<DIV STYLE="margin-top:14pt;margin-left:2pt;"><TABLE BORDER="0" CELLSPACING="0" CELLPADDING="2" WIDTH="98%"><TR BGCOLOR="#C0C0C0"><TD><FONT ID="f9">Object Detail</FONT></TD></TR></TABLE></DIV>
<DIV STYLE="margin-left:2pt;margin-top:11pt;"><IMG SRC="doc-images/Object3.png"> <FONT ID="f11"><A NAME="R11"></A>Object </FONT> <FONT ID="f10">listOfResources</FONT></DIV>
</BODY>
</HTML>
