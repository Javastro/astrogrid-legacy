<HTML>
<STYLE>
A:link {text-decoration: underline; color: darkmagenta;}
A:visited {text-decoration: underline; color: darkmagenta;}
#f0 { font-family: "Helvetica"; font-size: 10pt;  }
#f1 { font-family: "SansSerif"; font-size: 10pt;  }
#f2 { font-family: "SansSerif"; font-size: 8pt;  }
#f3 { font-family: "SansSerif"; font-size: 14pt; font-style: italic; font-weight: bold; color: #FFFFFF;  }
#f4 { font-family: "SansSerif"; font-size: 12pt; font-weight: bold; color: #FFFFFF;  }
#f5 { font-family: "SansSerif"; font-size: 12pt; font-style: italic;  }
#f6 { font-family: "SansSerif"; font-size: 12pt; font-weight: bold;  }
#f7 { font-family: "SansSerif"; font-size: 8pt; font-weight: bold;  }
#f8 { font-family: "SansSerif"; font-size: 10pt; font-style: italic; font-weight: bold;  }
#f9 { font-family: "SansSerif"; font-size: 11pt; font-style: italic; font-weight: bold;  }
#f10 { font-family: "SansSerif"; font-size: 10pt; font-style: italic;  }
#f11 { font-family: "SansSerif"; font-size: 10pt; font-weight: bold;  }
#f12 { font-family: "SansSerif"; font-size: 9pt; font-style: italic; font-weight: bold;  }
#f13 { font-family: "SansSerif"; font-size: 9pt; font-weight: bold;  }
#f14 { font-family: "SansSerif"; font-size: 9pt;  }
#f15 { font-family: "SansSerif"; font-size: 8pt; font-style: italic;  }
#f16 { font-family: "monospace"; font-size: 9pt;  }
#f17 { font-family: "SansSerif"; font-size: 9pt; font-weight: bold; color: #800080;  }
#f18 { font-family: "SansSerif"; font-size: 8pt; font-style: italic; font-weight: bold;  }
</STYLE>
<BODY BGCOLOR="white">
<BASEFONT ID="f0">
<DIV STYLE="margin-left:2pt;margin-top:5pt;"><IMG SRC="doc-images/ActivityDiagram9.png"> <FONT ID="f6">Activity Diagram</FONT> <FONT ID="f5"><U>find-users-my-space</U></FONT></DIV>
<DIV STYLE="margin-left:3pt;margin-top:4pt;"><FONT ID="f2">package:</FONT> <FONT ID="f7"><A HREF="Package.html">use-cases</A></FONT></DIV>
<DIV STYLE="margin-top:16pt;margin-left:2pt;"><IMG SRC="doc-images/find-users-my-space_ActivityDiagram.gif" USEMAP="#M1"><MAP NAME="M1"><AREA SHAPE="rect" COORDS="200,260,358,292" HREF="find-users-my-space.html#R1"><AREA SHAPE="rect" COORDS="200,320,361,351" HREF="find-users-my-space.html#R2"><AREA SHAPE="rect" COORDS="20,320,170,360" HREF="find-users-my-space.html#R3"><AREA SHAPE="rect" COORDS="20,250,170,290" HREF="find-users-my-space.html#R4"><AREA SHAPE="rect" COORDS="20,120,170,160" HREF="find-users-my-space.html#R5"><AREA SHAPE="rect" COORDS="20,40,170,80" HREF="find-users-my-space.html#R6"><AREA SHAPE="rect" COORDS="20,400,170,440" HREF="find-users-my-space.html#R7"><AREA SHAPE="rect" COORDS="410,230,557,262" HREF="find-users-my-space.html#R8"><AREA SHAPE="rect" COORDS="202,410,360,439" HREF="find-users-my-space.html#R9"><AREA SHAPE="rect" COORDS="610,350,760,378" HREF="find-users-my-space.html#R10"><AREA SHAPE="rect" COORDS="201,190,361,220" HREF="find-users-my-space.html#R11"><AREA SHAPE="rect" COORDS="200,122,360,149" HREF="find-users-my-space.html#R12"><AREA SHAPE="rect" COORDS="200,40,354,71" HREF="find-users-my-space.html#R13"><AREA SHAPE="rect" COORDS="590,20,779,460" HREF="find-users-my-space.html#R14"><AREA SHAPE="rect" COORDS="390,20,580,460" HREF="find-users-my-space.html#R15"><AREA SHAPE="rect" COORDS="189,20,379,460" HREF="find-users-my-space.html#R16"></MAP></DIV>
<DIV STYLE="margin-top:11pt;margin-left:2pt;"><FONT ID="f2"><p> 
A client programme determines the service endpoint for a user's MySpace. This is a step-wise process of refining to ever-more-concrete metadata. 
</p> 
<p> 
This is normally done by the Portal, but could be done by any client.  
</p></FONT></DIV>
<DIV STYLE="margin-top:13pt;margin-left:2pt;"><FONT ID="f8" STYLE="background-color:#DCDCDC;">Diagram Contents Summary</FONT></DIV>
<DIV STYLE="margin-left:10pt;margin-top:8pt;"><IMG SRC="doc-images/tv-swimLane5.png"> <FONT ID="f7">Swim Lane </FONT><FONT ID="f2"><U><A HREF="find-users-my-space.html#R16">Client</A></U></FONT></DIV>
<DIV STYLE="margin-left:31pt;margin-top:2pt;"><IMG SRC="doc-images/tv-activity9.png"> <FONT ID="f7">Activity </FONT><FONT ID="f2"><U><A HREF="find-users-my-space.html#R1">Extract resource</A></U></FONT></DIV>
<DIV STYLE="margin-left:31pt;margin-top:2pt;"><IMG SRC="doc-images/tv-activity9.png"> <FONT ID="f7">Activity </FONT><FONT ID="f2"><U><A HREF="find-users-my-space.html#R2">Request contract</A></U></FONT></DIV>
<DIV STYLE="margin-left:10pt;margin-top:2pt;"><IMG SRC="doc-images/tv-swimLane5.png"> <FONT ID="f7">Swim Lane </FONT><FONT ID="f2"><U><A HREF="find-users-my-space.html#R14">MySpace</A></U></FONT></DIV>
<DIV STYLE="margin-left:10pt;margin-top:2pt;"><IMG SRC="doc-images/tv-swimLane5.png"> <FONT ID="f7">Swim Lane </FONT><FONT ID="f2"><U><A HREF="find-users-my-space.html#R15">Registry</A></U></FONT></DIV>
<DIV STYLE="margin-left:10pt;margin-top:2pt;"><IMG SRC="doc-images/tv-activity9.png"> <FONT ID="f7">Activity </FONT><FONT ID="f2"><U><A HREF="find-users-my-space.html#R13">Determine AGSL</A></U></FONT></DIV>
<DIV STYLE="margin-left:10pt;margin-top:2pt;"><IMG SRC="doc-images/tv-activity9.png"> <FONT ID="f7">Activity </FONT><FONT ID="f2"><U><A HREF="find-users-my-space.html#R9">Determine endpoint</A></U></FONT></DIV>
<DIV STYLE="margin-left:10pt;margin-top:2pt;"><IMG SRC="doc-images/tv-activity9.png"> <FONT ID="f7">Activity </FONT><FONT ID="f2"><U><A HREF="find-users-my-space.html#R12">Determine IVORN</A></U></FONT></DIV>
<DIV STYLE="margin-left:10pt;margin-top:2pt;"><IMG SRC="doc-images/tv-activity9.png"> <FONT ID="f7">Activity </FONT><FONT ID="f2"><U><A HREF="find-users-my-space.html#R8">Emit metadata</A></U></FONT></DIV>
<DIV STYLE="margin-left:10pt;margin-top:2pt;"><IMG SRC="doc-images/tv-activity9.png"> <FONT ID="f7">Activity </FONT><FONT ID="f2"><U><A HREF="find-users-my-space.html#R10">Emit WSDL</A></U></FONT></DIV>
<DIV STYLE="margin-left:10pt;margin-top:2pt;"><IMG SRC="doc-images/tv-activity9.png"> <FONT ID="f7">Activity </FONT><FONT ID="f2"><U><A HREF="find-users-my-space.html#R11">Look up IVORN</A></U></FONT></DIV>
<DIV STYLE="margin-left:10pt;margin-top:3pt;"><IMG SRC="doc-images/tv-object5.png"> <FONT ID="f7">Object </FONT><FONT ID="f2"><U><A HREF="find-users-my-space.html#R3">accessURL</A></U></FONT></DIV>
<DIV STYLE="margin-left:10pt;margin-top:2pt;"><IMG SRC="doc-images/tv-object5.png"> <FONT ID="f7">Object </FONT><FONT ID="f2"><U><A HREF="find-users-my-space.html#R6">agsl</A></U></FONT></DIV>
<DIV STYLE="margin-left:10pt;margin-top:2pt;"><IMG SRC="doc-images/tv-object5.png"> <FONT ID="f7">Object </FONT><FONT ID="f2"><U><A HREF="find-users-my-space.html#R7">endpoint</A></U></FONT></DIV>
<DIV STYLE="margin-left:10pt;margin-top:2pt;"><IMG SRC="doc-images/tv-object5.png"> <FONT ID="f7">Object </FONT><FONT ID="f2"><U><A HREF="find-users-my-space.html#R5">ivorn</A></U></FONT></DIV>
<DIV STYLE="margin-left:10pt;margin-top:2pt;"><IMG SRC="doc-images/tv-object5.png"> <FONT ID="f7">Object </FONT><FONT ID="f2"><U><A HREF="find-users-my-space.html#R4">resource</A></U></FONT></DIV>
<DIV STYLE="margin-top:12pt;margin-left:2pt;"><TABLE BORDER="0" CELLSPACING="0" CELLPADDING="2" WIDTH="98%"><TR BGCOLOR="#C0C0C0"><TD><FONT ID="f9">Swim Lane Detail</FONT></TD></TR></TABLE></DIV>
<DIV STYLE="margin-left:2pt;margin-top:11pt;"><IMG SRC="doc-images/SwimLane5.png"> <FONT ID="f11"><A NAME="R16"></A>Swim Lane </FONT><FONT ID="f10">Client</FONT></DIV>
<DIV STYLE="margin-left:16pt;margin-top:9pt;"><FONT ID="f7">backgroundColor</FONT><FONT ID="f7">:</FONT></DIV>
<DIV STYLE="margin-top:2pt;margin-left:25pt;"><FONT ID="f2">200,200,200</FONT></DIV>
<DIV STYLE="margin-top:16pt;margin-left:17pt;"><FONT ID="f8" STYLE="background-color:#C0C0C0;">Contained Elements</FONT></DIV>
<DIV STYLE="margin-left:17pt;margin-top:11pt;"><IMG SRC="doc-images/Activity9.png"> <FONT ID="f11"><A NAME="R1"></A>Activity </FONT><FONT ID="f10">Extract resource</FONT></DIV>
<DIV STYLE="margin-top:8pt;margin-left:31pt;"><FONT ID="f2">Client parses the metadata returned by registry and extracts the VOresource for the MySpace manager.</FONT></DIV>
<DIV STYLE="margin-top:13pt;margin-left:31pt;"><FONT ID="f12" STYLE="background-color:#DCDCDC;">Transition links</FONT></DIV>
<DIV STYLE="margin-left:37pt;margin-top:8pt;"><FONT ID="f14"><A NAME="R17"></A>to</FONT><FONT ID="f14"> </FONT><FONT ID="f13">Activity</FONT><FONT ID="f14"> </FONT><FONT ID="f14"><U><A HREF="find-users-my-space.html#R2">Request contract</A></U></FONT></DIV>
<DIV STYLE="margin-top:13pt;margin-left:31pt;"><FONT ID="f12" STYLE="background-color:#DCDCDC;">Object Flow Links</FONT></DIV>
<DIV STYLE="margin-left:37pt;margin-top:8pt;"><FONT ID="f14"><A NAME="R18"></A>to</FONT><FONT ID="f14"> </FONT><FONT ID="f13">Object</FONT><FONT ID="f14"> </FONT><FONT ID="f14"><U><A HREF="find-users-my-space.html#R4">resource</A></U></FONT></DIV>
<DIV STYLE="margin-left:17pt;margin-top:16pt;"><IMG SRC="doc-images/Activity9.png"> <FONT ID="f11"><A NAME="R2"></A>Activity </FONT><FONT ID="f10">Request contract</FONT></DIV>
<DIV STYLE="margin-top:8pt;margin-left:31pt;"><FONT ID="f2">Client parses the VOResource and extracts the AccessUrl. Since the MySpace manager is an AstroGrid  web service, its access URL points to its WSDL contract, not to the service endpoint. Client invokes the URL.</FONT></DIV>
<DIV STYLE="margin-top:13pt;margin-left:31pt;"><FONT ID="f12" STYLE="background-color:#DCDCDC;">Transition links</FONT></DIV>
<DIV STYLE="margin-left:37pt;margin-top:8pt;"><FONT ID="f14"><A NAME="R19"></A>to</FONT><FONT ID="f14"> </FONT><FONT ID="f13">Activity</FONT><FONT ID="f14"> </FONT><FONT ID="f14"><U><A HREF="find-users-my-space.html#R10">Emit WSDL</A></U></FONT></DIV>
<DIV STYLE="margin-top:13pt;margin-left:31pt;"><FONT ID="f12" STYLE="background-color:#DCDCDC;">Object Flow Links</FONT></DIV>
<DIV STYLE="margin-left:37pt;margin-top:8pt;"><FONT ID="f14"><A NAME="R20"></A>to</FONT><FONT ID="f14"> </FONT><FONT ID="f13">Object</FONT><FONT ID="f14"> </FONT><FONT ID="f14"><U><A HREF="find-users-my-space.html#R3">accessURL</A></U></FONT></DIV>
<DIV STYLE="margin-left:2pt;margin-top:16pt;"><IMG SRC="doc-images/SwimLane5.png"> <FONT ID="f11"><A NAME="R14"></A>Swim Lane </FONT><FONT ID="f10">MySpace</FONT></DIV>
<DIV STYLE="margin-left:16pt;margin-top:9pt;"><FONT ID="f7">backgroundColor</FONT><FONT ID="f7">:</FONT></DIV>
<DIV STYLE="margin-top:2pt;margin-left:25pt;"><FONT ID="f2">200,200,200</FONT></DIV>
<DIV STYLE="margin-left:2pt;margin-top:19pt;"><IMG SRC="doc-images/SwimLane5.png"> <FONT ID="f11"><A NAME="R15"></A>Swim Lane </FONT><FONT ID="f10">Registry</FONT></DIV>
<DIV STYLE="margin-left:16pt;margin-top:9pt;"><FONT ID="f7">backgroundColor</FONT><FONT ID="f7">:</FONT></DIV>
<DIV STYLE="margin-top:2pt;margin-left:25pt;"><FONT ID="f2">200,200,200</FONT></DIV>
<DIV STYLE="margin-top:19pt;margin-left:2pt;"><TABLE BORDER="0" CELLSPACING="0" CELLPADDING="2" WIDTH="98%"><TR BGCOLOR="#C0C0C0"><TD><FONT ID="f9">Activity Detail</FONT></TD></TR></TABLE></DIV>
<DIV STYLE="margin-left:2pt;margin-top:11pt;"><IMG SRC="doc-images/Activity9.png"> <FONT ID="f11"><A NAME="R13"></A>Activity </FONT><FONT ID="f10">Determine AGSL</FONT></DIV>
<DIV STYLE="margin-top:8pt;margin-left:17pt;"><FONT ID="f2">Client determines the AGSL for the top directory in User's MySpace. Normally, the client is the portal and has this information in memory from when User logged in.</FONT></DIV>
<DIV STYLE="margin-top:13pt;margin-left:17pt;"><FONT ID="f12" STYLE="background-color:#DCDCDC;">Transition links</FONT></DIV>
<DIV STYLE="margin-left:23pt;margin-top:8pt;"><FONT ID="f14"><A NAME="R21"></A>to</FONT><FONT ID="f14"> </FONT><FONT ID="f13">Activity</FONT><FONT ID="f14"> </FONT><FONT ID="f14"><U><A HREF="find-users-my-space.html#R12">Determine IVORN</A></U></FONT></DIV>
<DIV STYLE="margin-top:13pt;margin-left:17pt;"><FONT ID="f12" STYLE="background-color:#DCDCDC;">Object Flow Links</FONT></DIV>
<DIV STYLE="margin-left:23pt;margin-top:8pt;"><FONT ID="f14"><A NAME="R22"></A>to</FONT><FONT ID="f14"> </FONT><FONT ID="f13">Object</FONT><FONT ID="f14"> </FONT><FONT ID="f14"><U><A HREF="find-users-my-space.html#R6">agsl</A></U></FONT></DIV>
<DIV STYLE="margin-left:2pt;margin-top:16pt;"><IMG SRC="doc-images/Activity9.png"> <FONT ID="f11"><A NAME="R9"></A>Activity </FONT><FONT ID="f10">Determine endpoint</FONT></DIV>
<DIV STYLE="margin-top:8pt;margin-left:17pt;"><FONT ID="f2">Client parses the WSDL contract for the MySpace manager</FONT></DIV>
<DIV STYLE="margin-top:13pt;margin-left:17pt;"><FONT ID="f12" STYLE="background-color:#DCDCDC;">Object Flow Links</FONT></DIV>
<DIV STYLE="margin-left:23pt;margin-top:8pt;"><FONT ID="f14"><A NAME="R23"></A>to</FONT><FONT ID="f14"> </FONT><FONT ID="f13">Object</FONT><FONT ID="f14"> </FONT><FONT ID="f14"><U><A HREF="find-users-my-space.html#R7">endpoint</A></U></FONT></DIV>
<DIV STYLE="margin-left:2pt;margin-top:16pt;"><IMG SRC="doc-images/Activity9.png"> <FONT ID="f11"><A NAME="R12"></A>Activity </FONT><FONT ID="f10">Determine IVORN</FONT></DIV>
<DIV STYLE="margin-top:8pt;margin-left:17pt;"><FONT ID="f2">Client parses the AGSL to extract the IVORN for the MySpace manager service managing User's MySpace.</FONT></DIV>
<DIV STYLE="margin-top:13pt;margin-left:17pt;"><FONT ID="f12" STYLE="background-color:#DCDCDC;">Transition links</FONT></DIV>
<DIV STYLE="margin-left:23pt;margin-top:8pt;"><FONT ID="f14"><A NAME="R24"></A>to</FONT><FONT ID="f14"> </FONT><FONT ID="f13">Activity</FONT><FONT ID="f14"> </FONT><FONT ID="f14"><U><A HREF="find-users-my-space.html#R11">Look up IVORN</A></U></FONT></DIV>
<DIV STYLE="margin-top:13pt;margin-left:17pt;"><FONT ID="f12" STYLE="background-color:#DCDCDC;">Object Flow Links</FONT></DIV>
<DIV STYLE="margin-left:23pt;margin-top:8pt;"><FONT ID="f14"><A NAME="R25"></A>to</FONT><FONT ID="f14"> </FONT><FONT ID="f13">Object</FONT><FONT ID="f14"> </FONT><FONT ID="f14"><U><A HREF="find-users-my-space.html#R5">ivorn</A></U></FONT></DIV>
<DIV STYLE="margin-left:2pt;margin-top:16pt;"><IMG SRC="doc-images/Activity9.png"> <FONT ID="f11"><A NAME="R8"></A>Activity </FONT><FONT ID="f10">Emit metadata</FONT></DIV>
<DIV STYLE="margin-top:8pt;margin-left:17pt;"><FONT ID="f2">Registry looks up the IVORN in its database and returns the associated metadata (a VOResource) wrapped in a VOdescription.</FONT></DIV>
<DIV STYLE="margin-top:13pt;margin-left:17pt;"><FONT ID="f12" STYLE="background-color:#DCDCDC;">Transition links</FONT></DIV>
<DIV STYLE="margin-left:23pt;margin-top:8pt;"><FONT ID="f14"><A NAME="R26"></A>to</FONT><FONT ID="f14"> </FONT><FONT ID="f13">Activity</FONT><FONT ID="f14"> </FONT><FONT ID="f14"><U><A HREF="find-users-my-space.html#R1">Extract resource</A></U></FONT></DIV>
<DIV STYLE="margin-left:2pt;margin-top:16pt;"><IMG SRC="doc-images/Activity9.png"> <FONT ID="f11"><A NAME="R10"></A>Activity </FONT><FONT ID="f10">Emit WSDL</FONT></DIV>
<DIV STYLE="margin-top:8pt;margin-left:17pt;"><FONT ID="f2">MySpace returns its WSDL contract. This is its run-time contract and so contains the endpoint address. (See the discussion of Axis for differences between compile-time and run-time contracts.) Client extracts the address.</FONT></DIV>
<DIV STYLE="margin-top:13pt;margin-left:17pt;"><FONT ID="f12" STYLE="background-color:#DCDCDC;">Transition links</FONT></DIV>
<DIV STYLE="margin-left:23pt;margin-top:8pt;"><FONT ID="f14"><A NAME="R27"></A>to</FONT><FONT ID="f14"> </FONT><FONT ID="f13">Activity</FONT><FONT ID="f14"> </FONT><FONT ID="f14"><U><A HREF="find-users-my-space.html#R9">Determine endpoint</A></U></FONT></DIV>
<DIV STYLE="margin-left:2pt;margin-top:16pt;"><IMG SRC="doc-images/Activity9.png"> <FONT ID="f11"><A NAME="R11"></A>Activity </FONT><FONT ID="f10">Look up IVORN</FONT></DIV>
<DIV STYLE="margin-top:8pt;margin-left:17pt;"><FONT ID="f2">Client invokes the resource Registry and asks for the metadata associated with the IVORN.</FONT></DIV>
<DIV STYLE="margin-top:13pt;margin-left:17pt;"><FONT ID="f12" STYLE="background-color:#DCDCDC;">Transition links</FONT></DIV>
<DIV STYLE="margin-left:23pt;margin-top:8pt;"><FONT ID="f14"><A NAME="R28"></A>to</FONT><FONT ID="f14"> </FONT><FONT ID="f13">Activity</FONT><FONT ID="f14"> </FONT><FONT ID="f14"><U><A HREF="find-users-my-space.html#R8">Emit metadata</A></U></FONT></DIV>
<DIV STYLE="margin-top:16pt;margin-left:2pt;"><TABLE BORDER="0" CELLSPACING="0" CELLPADDING="2" WIDTH="98%"><TR BGCOLOR="#C0C0C0"><TD><FONT ID="f9">Object Detail</FONT></TD></TR></TABLE></DIV>
<DIV STYLE="margin-left:2pt;margin-top:11pt;"><IMG SRC="doc-images/Object5.png"> <FONT ID="f11"><A NAME="R7"></A>Object </FONT> <FONT ID="f10">endpoint</FONT></DIV>
<DIV STYLE="margin-left:2pt;margin-top:14pt;"><IMG SRC="doc-images/Object5.png"> <FONT ID="f11"><A NAME="R6"></A>Object </FONT> <FONT ID="f10">agsl</FONT></DIV>
<DIV STYLE="margin-left:2pt;margin-top:14pt;"><IMG SRC="doc-images/Object5.png"> <FONT ID="f11"><A NAME="R5"></A>Object </FONT> <FONT ID="f10">ivorn</FONT></DIV>
<DIV STYLE="margin-left:2pt;margin-top:14pt;"><IMG SRC="doc-images/Object5.png"> <FONT ID="f11"><A NAME="R4"></A>Object </FONT> <FONT ID="f10">resource</FONT></DIV>
<DIV STYLE="margin-left:2pt;margin-top:14pt;"><IMG SRC="doc-images/Object5.png"> <FONT ID="f11"><A NAME="R3"></A>Object </FONT> <FONT ID="f10">accessURL</FONT></DIV>
</BODY>
</HTML>
