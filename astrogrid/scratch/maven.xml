<?xml version="1.0"?>
<!-- extension maven script -->
<project xmlns:maven="jelly:maven">

	<goal name="multiclean" prereqs="multiproject:clean">
		<attainGoal name="showprops"/>
    </goal>
    
    <goal name="showprops">
        <echo message="==Properties visible in Master POM=="/>
        <echo message="Defined in master POM: astrogrid.master= ${astrogrid.master}"/>
        <echo message="Defined in super-super POM: astrogrid.basebase= ${astrogrid.basebase}"/>         
        <echo message="Defined in super POM: astrogrid.base= ${astrogrid.base}"/>
        <echo message="Defined in sub POM: astrogrid.sub= ${astrogrid.sub}"/>
        <echo message="Defined in super POM: maven.repo.central= ${maven.repo.central}"/>
        <echo message="Defined in super POM: currentVersion= ${pom.currentVersion}"/>
        <echo message="Defined in super-super POM: groupId=${pom.groupId}"/>
    </goal>
    
    <goal name="usereactor">
    	<attainGoal name="showprops"/>
		 <maven:reactor
		     basedir="${basedir}"
		     postProcessing="false"
		     includes="sub/project.xml"
		     goals="showprops"
		     banner="running subprojects"
		     ignoreFailures="true" />
	</goal>

	
</project>
