<?xml version="1.0" encoding="UTF-8"?>
<VODescription xmlns:cea="http://www.ivoa.net/xml/CEAService/v0.1"
xmlns="http://www.ivoa.net/xml/VOResource/v0.9"
xmlns:ceapd="http://www.astrogrid.org/schema/AGParameterDefinition/v1"
xmlns:ceab="http://www.astrogrid.org/schema/CommonExecutionArchitectureBase/v1"
xmlns:vm="http://www.ivoa.net/xml/VOMetadata/v0.1"
xmlns:vt="http://www.ivoa.net/xml/VOTable/v0.1"
xmlns:vr="http://www.ivoa.net/xml/VOResource/v0.9"
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">


        <Resource status="active" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:type="CeaApplicationType">
                <Identifier>
                        <AuthorityID>@REGAUTHORITY@</AuthorityID>
                        <ResourceKey>CallMakeMPEGFitsImages</ResourceKey>
                </Identifier>
                <Title>Make MPEG from Fits Images</Title>
                <ShortName>MakeMPEGFitsImages</ShortName>
                <Summary>
                        <Description>This shell script uses IDL to convert a 3-D array to an MPEG file.</Description>
                        <ReferenceURL>
                                http://www.astrogrid.org/maven/build/applications/</ReferenceURL>
                </Summary>
                <Type>Other</Type>
                <Curation>
                        <Publisher>
                                <Title>Astrogrid</Title>
                                <Description>blah blab</Description>
                                <ReferenceURL>http://www.astrogrid.org/</ReferenceURL>
                        </Publisher>
                        <Contact>
                                <Name>Paul Harrison</Name>
                                <Email>pah@jb.man.ac.uk</Email>
                        </Contact>
                        <Date role="representative">2004-03-26</Date>
                        <Creator>
                                <Name>Astrogrid</Name>
                                <Logo>??</Logo>
                        </Creator>
                        <Version>Iteration 6</Version>
                </Curation>
                <Subject>???</Subject>
                <cea:ApplicationDefinition>
                        <cea:Parameters>
							<!-- NWW: why is the 'output file name' an input parameter? Don't think this is necessary.-->
                                 <cea:ParameterDefinition name="OutputFileName"
                                        type="text">
                                        <ceapd:DefaultValue>OutputFileName</ceapd:DefaultValue>
                                        <ceapd:UI_Description >
                                                Name of the mpeg file that will be created by the script.
                                        </ceapd:UI_Description>
                                </cea:ParameterDefinition>
								<!-- NWW: this isn't schema-valid: there's not minOccurs or maxOccurs attributes on this element
									
									why would this parameter be repeated if its a text file containing filenames anyhow?
									
									I thought we were going to pass in fits images individually, as a repeated parameter.
									
									 -->
                                <cea:ParameterDefinition name="InputFiles" type="text" minOccurs="1" maxOccurs="unbounded">
                                        <ceapd:DefaultValue>InputFiles</ceapd:DefaultValue>
                                        <ceapd:UI_Description >
                                                Filename of a text file containing the filenames of a
                                                series of FITS images.
                                        </ceapd:UI_Description>
                                </cea:ParameterDefinition>
								<!-- NWW: its not correct to be asking for a 'filename'. The output of this tool is the movie MPEG itself.
									the resource locaton where this movie is to be stored by CEA may be specified by an 'indirect' parameter - 
									but this isn't a requirement -->
                                <cea:ParameterDefinition name="OutputFile" type="binary">									
                                        <ceapd:DefaultValue>OutputFile</ceapd:DefaultValue>
                                        <ceapd:UI_Description >
                                                Filename of solar movie MPEG file created from fits images.
                                        </ceapd:UI_Description>
                                </cea:ParameterDefinition>
                        </cea:Parameters>
                        <cea:Interfaces>
                                <ceab:Interface name="Simple">
                                        <ceab:input>
                                                <ceab:pref ref="OutputFileName"/> <!-- NWW: don't think this is needed -->
                                                <ceab:pref ref="InputFiles"/><!-- NWW: should have maxOccurs="0" on this (0, non-intuitively meaning unbounded) -->
                                        </ceab:input>
                                        <ceab:output>
                                                <ceab:pref ref="OutputFile"/>
                                        </ceab:output>
                                </ceab:Interface>
                        </cea:Interfaces>
                </cea:ApplicationDefinition>
        </Resource>
        <Resource status="active" xsi:type="CeaApplicationType"
                xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
                <Identifier>
                        <AuthorityID>@REGAUTHORITY@</AuthorityID>
                        <ResourceKey>CallMakeMPEGDataCube</ResourceKey>
                </Identifier>
                <Title>Make MPEG from Data Cube</Title>
                <ShortName>MakeMPEGDataCube</ShortName>
                <Summary>
                        <Description>This shell script uses IDL to convert a 3-D array to an MPEG file.</Description>
                        <ReferenceURL>
                                http://www.astrogrid.org/maven/build/applications/</ReferenceURL>
                </Summary>
                <Type>Other</Type>
                <Curation>
                        <Publisher>
                                <Title>Astrogrid</Title>
                                <Description>blah blab</Description>
                                <ReferenceURL>http://www.astrogrid.org/</ReferenceURL>
                        </Publisher>
                        <Contact>
                                <Name>Paul Harrison</Name>
                                <Email>pah@jb.man.ac.uk</Email>
                        </Contact>
                        <Date role="representative">2004-03-26</Date>
                        <Creator>
                                <Name>Astrogrid</Name>
                                <Logo>??</Logo>
                        </Creator>
                        <Version>Iteration 6</Version>
                </Curation>
                <Subject>???</Subject>
                <cea:ApplicationDefinition>
                        <cea:Parameters>
                                <cea:ParameterDefinition name="InputFile" type="FITS">
                                        <ceapd:DefaultValue>InputFile</ceapd:DefaultValue>
                                        <ceapd:UI_Description >
                                                Filename of a binary IDL .sav file containing a
                                                datacube.
                                        </ceapd:UI_Description>
                                </cea:ParameterDefinition>
                                <cea:ParameterDefinition name="ArrayName"
                                        type="text">
                                        <ceapd:DefaultValue>ArrayName</ceapd:DefaultValue>
                                        <ceapd:UI_Description >
                                                Name of the 3-D array inside the datacube restore file
                                                to save as an MPEG
                                        </ceapd:UI_Description>
                                </cea:ParameterDefinition>
                                 <cea:ParameterDefinition name="OutputFileName"
                                        type="text">
                                        <ceapd:DefaultValue>OutputFileName</ceapd:DefaultValue>
                                        <ceapd:UI_Description >
                                                Name of the mpeg file that will be created by the script.
                                        </ceapd:UI_Description>
                                </cea:ParameterDefinition>
        <cea:ParameterDefinition name="OutputFile"
                                        type="binary">
                                        <ceapd:DefaultValue>OutputFile</ceapd:DefaultValue>
                                        <ceapd:UI_Description >
                                                Filename of solar movie MPEG file created from fits images.
                                        </ceapd:UI_Description>
                                </cea:ParameterDefinition>
                        </cea:Parameters>
                        <cea:Interfaces>
                                <ceab:Interface name="Simple">
                                        <ceab:input>
                                                <ceab:pref ref="InputFile"/>
                                                <ceab:pref ref="ArrayName"/>
                                                 <ceab:pref ref="OutputFileName"/>
                                        </ceab:input>
                                        <ceab:output>
                                                <ceab:pref ref="OutputFile"/>
                                        </ceab:output>
                                </ceab:Interface>
                        </cea:Interfaces>
                </cea:ApplicationDefinition>
        </Resource>
        <Resource status="active" xsi:type="CeaServiceType"
                xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
                <Identifier>
                        <AuthorityID>@REGAUTHORITY@</AuthorityID>
                        <ResourceKey>msslyxy-cea</ResourceKey>
                </Identifier>
                <Title>TemplateEntry</Title>
                <ShortName>TemplateEntry</ShortName>
                <Summary>
                        <Description>This is part of the astrogrid CEA.</Description>
                        <ReferenceURL>
                                http://www.astrogrid.org/maven/build/applications/</ReferenceURL>
                </Summary>
                <Type>Other</Type>
                <Curation>
                        <Publisher>
                                <Title>Astrogrid</Title>
                                <Description>blah blab</Description>
                                <ReferenceURL>http://www.astrogrid.org/</ReferenceURL>
                        </Publisher>
                        <Contact>
                                <Name>Paul Harrison</Name>
                                <Email>pah@jb.man.ac.uk</Email>
                        </Contact>
                        <Date role="representative">2004-03-26</Date>
                        <Creator>
                                <Name>Astrogrid</Name>
                                <Logo>??</Logo>
                        </Creator>
                        <Version>Iteration 6</Version>
                </Curation>
                <Subject>???</Subject>
                <Capability>
                        <StandardURL>
                                http://www.astrogrid.org/maven/build/applications/</StandardURL>
                        <StandardID>
                                <AuthorityID>astrogrid.og</AuthorityID>
                                <ResourceKey>CommonExecutionArchitucture</ResourceKey>
                        </StandardID>
                </Capability>
                <Interface>
                        <Invocation>WebService</Invocation>
                        <!-- NWW: removed version - the endpoint of this service is fixed, as is external to auto-integration 
							18/08/04: this service doesn't seem to be available yet
							-->
                        <AccessURL use="base">http://msslxy.mssl.ucl.ac.uk:8080/astrogrid-cea-commandline-SNAPSHOT/services/CommonExecutionConnectorService</AccessURL>
                </Interface>
                <cea:ManagedApplications>
                        <cea:ApplicationReference>
                                <AuthorityID>@REGAUTHORITY@</AuthorityID>
                                <ResourceKey>CallMakeMPEGFitsImages</ResourceKey>
                        </cea:ApplicationReference>
                        <cea:ApplicationReference>
                                <AuthorityID>@REGAUTHORITY@</AuthorityID>
                                <ResourceKey>CallMakeMPEGDataCube</ResourceKey>
                        </cea:ApplicationReference>
                </cea:ManagedApplications>
        </Resource>
</VODescription>
