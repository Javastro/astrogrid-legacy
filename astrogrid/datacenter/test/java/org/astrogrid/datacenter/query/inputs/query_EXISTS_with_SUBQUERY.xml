<?xml version = "1.0" encoding = "UTF8"?>
<job name = "jl009">
   <userid>jlusted</userid>
   <community>leicester</community>
   <jobstep name="EXISTS WITH SUBQUERY" >
      <query> 
<!--============================================== 
    SELECT COLUMN_ONE, COLUMN_TWO
      FROM USNOB..USNOB
        WHERE COLUMN_THREE EXISTS
          (SELECT COLUMN_FOUR 
             FROM USNOB..USNOB 
             WHERE ((COLUMN_FIVE EQUALS COLUMN_SIX)
               AND ( COLUMN_SEVEN > 1000 ))
===============================================-->           
         <from>         
            <catalog name="USNOB">         
               <service name="AGHomeService" url="http://hydra.star.le.ac.uk:8080/axis/services/DatasetAgent" />
               <table>USNOB</table>
            </catalog>
         </from>
         <return>
            <field name="COLUMN_ONE" type="COLUMN"/>
            <field name="COLUMN_TWO" type="COLUMN"/>
         </return>
         <criteria>
            <operation name="EXISTS">
               <field name="COLUMN_THREE" type="COLUMN"/>
               <operation name="subquery">
                  <from>
                     <catalog name="USNOB">
                        <service name="AGHomeService" url="http://hydra.star.le.ac.uk:8080/axis/services/DatasetAgent" />
                        <table>USNOB</table>
                     </catalog>                
                  </from>
                  <return>
                     <field name="COLUMN_FOUR" type="COLUMN"/>
                  </return>
                  <criteria>
                     <operation name="AND">
                        <operation name="EQUALS">
                           <field name="COLUMN_FIVE" type="COLUMN"/>
                           <field name="COLUMN_SIX" type="COLUMN"/>                     
                        </operation>
                        <operation name="GREATER_THAN">
                           <field name="COLUMN_SEVEN" type="COLUMN"/>
                           <field>1000</field>
                        </operation>
                     </operation>        
                  </criteria>
               </operation>
            </operation>
         </criteria>
      </query>
   </jobstep>
</job>
