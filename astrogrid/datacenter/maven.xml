<?xml version="1.0" ?>
<!-- extension maven script -->
<project xmlns:j="jelly:core"  xmlns:maven="jelly:maven" xmlns:deploy="deploy" default="jar:jar">
<!-- hooks to farm out everything to subprojects -->

<!-- simple frequently-used goal -->
<goal name="pal" prereqs="astrogrid-clean,astrogrid-install-snapshot" />

<!-- Astrogrid custom goals -->
<goal name="astrogrid-deploy-snapshot">
   <echo message="Master Project: astrogrid-deploy-snapshot"/>
   <maven:reactor
     basedir="${basedir}"
     postProcessing="false"
     includes="*/project.xml,implementations/*/project.xml"
     goals="astrogrid-deploy-snapshot"
     banner="Deploying snapshots"
     ignoreFailures="true" />
</goal>
<goal name="astrogrid-deploy-artifact">
   <echo message="Master Project: astrogrid-deploy-artifact"/>
   <maven:reactor
     basedir="${basedir}"
     postProcessing="false"
     includes="*/project.xml,implementations/*/project.xml"
     goals="astrogrid-deploy-artifact"
     banner="Deploying snapshots"
     ignoreFailures="true" />
</goal>

<goal name="astrogrid-install-snapshot">
   <echo message="Master Project: astrogrid-install-snapshot"/>
   <maven:reactor
     basedir="${basedir}"
     postProcessing="false"
     includes="*/project.xml,implementations/*/project.xml"
     goals="astrogrid-install-snapshot"
     banner="installing snapshots"
     ignoreFailures='true' />
</goal>
<goal name="astrogrid-build-snapshot">
   <echo message="Goal not implemented"/>
</goal>
<goal name="astrogrid-build-artifact">
   <echo message="Goal not implemented"/>
</goal>
<goal name="astrogrid-install-artifact">
   <echo message="Master Project: astrogrid-install-artifact"/>
   <maven:reactor
     basedir="${basedir}"
     postProcessing="false"
     includes="*/project.xml,implementations/*/project.xml"
     goals="astrogrid-install-artifact"
     banner="installing artifact"
     ignoreFailures="true" />
</goal>
<goal name="astrogrid-build-site">
   <echo message="Master Project: astrogrid-build-site"/>
   <attainGoal name="multiproject:site" />
</goal>
<goal name="astrogrid-deploy-site" prereqs="astrogrid-build-site">
   <echo message="Master Project: astrogrid-deploy-site"/>
   <attainGoal name="site:sshdeploy" />
</goal>
<goal name="astrogrid-clean">
   <echo message="Master Project: astrogrid-clean"/>
   <attainGoal name="multiproject:clean" />
</goal>


</project>
