<?xml version="1.0" ?>
<!-- extension maven script -->
<project xmlns:j="jelly:core"  xmlns:maven="jelly:maven" xmlns:deploy="deploy" default="jar:jar">
<!-- hooks to farm out everything to subprojects -->

<!-- Astrogrid custom goals -->
<!-- Only install the minimum for the autobuild for now
    see http://www.astrogrid.org/maven/build/SimpleMavenProject/goalsSummary.html -->
<goal name="astrogrid-deploy-snapshot">
   <echo message="Master Project: astrogrid-deploy-snapshot"/>
   <maven:reactor
     basedir="${basedir}"
     postProcessing="false"
     includes="*/project.xml,implementations/*/project.xml"
     excludes="pal/**,implementations/http2java/**"
     goals="jar:deploy-snapshot,dist"
     banner="Deploying snapshots"
     ignoreFailures="true" />
    <maven:maven descriptor="${basedir}/pal/project.xml"
      goals="webapp-site,war:deploy-snapshot"
      ignoreFailures="true" />

</goal>
<goal name="astrogrid-deploy-artifact">
   <echo message="Master Project: astrogrid-deploy-artifact"/>
   <maven:reactor
     basedir="${basedir}"
     postProcessing="false"
     includes="*/project.xml,implementations/*/project.xml"
     excludes="pal/**,implementations/http2java/**"
     goals="jar:deploy,dist"
     banner="Deploying snapshots"
     ignoreFailures="true" />
    <maven:maven descriptor="${basedir}/pal/project.xml"
      goals="webapp-site,war:deploy"
      ignoreFailures="true" />

</goal>

<goal name="astrogrid-install-snapshot">
   <echo message="Master Project: astrogrid-install-snapshot"/>
   <maven:reactor
     basedir="${basedir}"
     postProcessing="false"
     includes="*/project.xml,implementations/*/project.xml"
     excludes="pal/**"
     goals="jar:install-snapshot,dist"
     banner="installing snapshots"
     ignoreFailures="true" />
    <maven:maven descriptor="${basedir}/pal/project.xml"
      goals="webapp-site,war:install-snapshot"
      ignoreFailures="true" />
</goal>
<goal name="astrogrid-install-artifact">
   <echo message="Master Project: astrogrid-install-artifact"/>
   <maven:reactor
     basedir="${basedir}"
     postProcessing="false"
     includes="*/project.xml,implementations/*/project.xml"
     excludes="pal/**"
     goals="jar:install,dist"
     banner="installing artifact"
     ignoreFailures="true" />
    <maven:maven descriptor="${basedir}/pal/project.xml"
      goals="webapp-site,war:install"
      ignoreFailures="true" />
</goal>
	<goal name="astrogrid-build-site">
   <echo message="Master Project: astrogrid-build-site"/>
   <attainGoal name="multiproject:site" />
</goal>
<goal name="astrogrid-deploy-site" prereqs="astrogrid-build-site">
   <echo message="Master Project: astrogrid-deploy-site"/>
   <attainGoal name="site:sshdeploy" />
</goal>
<goal name="astrogrid-clean">
   <echo message="Master Project: astrogrid-clean"/>
   <attainGoal name="multiproject:clean" />
</goal>

<!--
stand - alone goals - development helpers, not additions to main build
-->


</project>
