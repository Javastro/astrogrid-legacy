<?xml version="1.0" encoding="UTF-8"?>
<!--+
    |
    | <cvs:source>$Source: /Users/pharriso/Work/ag/repo/git/astrogrid-mirror/astrogrid/community/webapp/project.xml,v $</cvs:source>
    | <cvs:author>$Author: jdt $</cvs:author>
    | <cvs:date>$Date: 2005/01/07 14:14:25 $</cvs:date>
    | <cvs:version>$Revision: 1.25 $</cvs:version>
    | <cvs:log>
    |   $Log: project.xml,v $
    |   Revision 1.25  2005/01/07 14:14:25  jdt
    |   merged from Reg_KMB_787
    |
    |   Revision 1.24.2.3  2005/01/05 11:24:50  KevinBenson
    |   smal change in the description
    |
    |   Revision 1.24.2.2  2005/01/05 10:47:46  KevinBenson
    |   added xdoc descriptions for the community
    |
    |   Revision 1.24.2.1  2004/12/12 21:22:50  KevinBenson
    |   new dependencies for registry to validate the xml if necessary
    |
    |   Revision 1.24  2004/11/23 18:40:50  jdt
    |   Merges from  BLD_JDT_648.  The long awaited move to versioned jars and wars.  Fingers crossed.  See:
    |   http://software.astrogrid.org/developerdocs/developmentprocess.html
    |
    |   Revision 1.23.8.1  2004/11/12 00:45:53  jdt
    |   Switched to use fixed version numbers, defined in a properties file
    |
    |   Revision 1.23  2004/11/04 18:00:02  jdt
    |   Restored following fixes to auto-integration
    |   Merged in Reg_KMB_546 and Reg_KMB_603 and Comm_KMB_583
    |
    |   Revision 1.21  2004/11/02 21:47:39  jdt
    |   Merge of Comm_KMB_583
    |
    |   Revision 1.20.18.1  2004/10/26 20:57:41  KevinBenson
    |   got rid of a duplicate jar it comes already in the axis libs so no need to bundle it
    |
    |   Revision 1.20  2004/09/17 06:57:10  dave
    |   Added commons logging to FileStore.
    |   Updated logging properties in Community.
    |   Fixed bug in AGINAB deployment.
    |   Removed MySpace tests with hard coded grendel address.
    |
    |   Revision 1.19.50.1  2004/09/17 02:53:08  dave
    |   Added DTD fix and validation to webapp web.xml ....
    |
    |   Revision 1.19  2004/07/27 13:41:17  dave
    |   Merged development branch, dave-dev-200407261230, into HEAD
    |
    |   Revision 1.18.2.1  2004/07/27 13:27:07  dave
    |   Added registry entry and resolver to integtation tests
    |
    |   Revision 1.18  2004/07/25 08:57:33  KevinBenson
    |   small change to use the registry-client-lite
    |
    |   Revision 1.17  2004/07/14 13:50:07  dave
    |   Merged development branch, dave-dev-200406301228, into HEAD
    |
    |   Revision 1.16.4.1  2004/07/05 14:18:56  dave
    |   Tried to remove the JConfig libraries
    |
    | </cvs:log>
    |
    +-->
<project
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:noNamespaceSchemaLocation="maven-project.xsd">

    <!--+
        | Extend the common project descriptor.
        +-->
    <extend>../maven/project.xml</extend>

    <!--+
        | The short name of the project.
        +-->
    <id>astrogrid-community</id>

    <!--+
        | The full name of the project.
        | This is used when generating JavaDoc titles.
        +-->
    <name>Community webapp</name>

    <!--+
        | A short description of the project.
        | The short description should be limited to a single line.
        +-->
    <shortDescription>
        Community webapp Area
    </shortDescription>

    <!--+
        | A detailed description of the project.
        | This is used to generate the front page of the projects web site. 
        +-->
    <description>
        <![CDATA[
            This is where the community war file that can be deployed on a j2ee or servlet container.  
    		Below describes what is needed to install and setup of the community.  The install and setup below is an
    	    example with a HSQLDB database.<br />
	    	<section name="Install">
    			<ul>
    				<li> 1.) First download a comunity war file. Here is the <a href="http://www.astrogrid.org/maven/org.astrogrid/wars/astrogrid-community-SNAPSHOT.war">Latest Community</a> or
    	                     look into the wars directory for other versions of the war file. </li>
    				<li> 2.) Deploy the war into your servlet container, giveit the context path that you desire. </li>
    				<li> 3.) Find the hsqldb database driver. You can download from here: 
			      	<a href="http://www.astrogrid.org/maven/hsqldb/jars/hsqldb-1.7.1.jar">HSQLDB 1.7.1</a> </li>
    				<li> 4.) Place the hsqldb jar into a place that can be located by the servlet container, ex: for tomcat is the common/lib directory.</li>
    	            <li> 5.) The installation is complete, now for the  setup.</li>
    			</ul>
    		</section>
    		<section name="Setup">
    			<ul>
    				<li> 1.) Go to the Administration gui for the servlet container.</li>
    				<li> 2.) Go to the Environment Entries for your context.  In Tomcat this is Service->Host(LocalHost)->{context name}->Resources->Environment entries. </li>
    				<li> 3.) Change all the environment entries, to have the community id, and the endpoints to the registry, also define the registry identifier for a vospace/myspace used for accounts. (Hit Save after each of your changes)</li>
					<li> 4.) After Environment Entries are changed go to the "DataSources" (same area as Environment Entries). </li>
    				<li> 5.) Change the URL to not have "@WORKDIR@" but to a appropriate directory that will keep your database data and information. (Hit Save)</li>
    				<li> 6.) In Tomcat hit "Commit Changes" at the top.</li>
    				<li> 7.) Open up a web browser and go to your new community ex: http://localhost:8080/{context} </li>
    				<li> 8.) Go to the Admin pages, there it will report if your database is healthy or not, if this is the first time then it should NOT be healthy.</li>
    				<li> 9.) If not healthy go to "Reset DB" this essentially deletes everything from the db and recreates all tables and a small amount of test data to check if it is healthy.</li>
    				<li> 10.) Reset the db and verify it is healthy, a message should say if it is healthy or not.</li>
    				<li> 11.) Now click on "Register Metadata" Fill in the Form details and the version of the type of Registry you wish to publish/register to. (hit Submit).</li>
    				<li> 12.) Verify the XML looks correct and hit (Register). </li>
    				<li> 13.) Your Setup is now complete you may begin adding accounts, groups, and others. </li>
    			</ul>
    		</section>
    		<section name="Customize">
    		<p>
    			It has been untested on other databases, but presumbly you may setup community to work with any database.  See the "/WEB-INF/classes" directory
    	        for configuration files if you need to change the sql used to create tables, or possibly even the JDO mapping.  
    			There are 3 files.
    			<ul>
    				<li> astrogrid-community-database.sql -- SQL used to create table data. </li>
    				<li> astrogrid-community-database.xml -- no real need to change it points to the mapping file in the same directory. </li>
					<li> astrogrid-community-mapping.xml -- JDO mapping for Castor.  See <a href="http://castor.exolab.org/">Castor</a> for more information on the mapping.</li>
    			</ul>
    		</p>
    		</section>
        ]]>
    </description>

    <!--+
        | Our cvs repository location.
        +-->
    <repository>
        <connection>
            scm:cvs:pserver:anoncvs@cvs.astrogrid.org:/devel:astrogrid/community/webapp
        </connection>
        <developerConnection>
            scm:cvs:ext:${maven.username}@cvs.astrogrid.org:/devel:astrogrid/community/webapp
        </developerConnection>
    </repository>

    <!--+
        | The external libraries required to build our component.
        +-->
    <dependencies>
        <!--+
            | The AstroGrid common components.
            +-->
        <dependency>
            <groupId>${pom.groupId}</groupId>
            <artifactId>astrogrid-common</artifactId>
            <version>${astrogrid.common.version}</version>
            <type>jar</type>
            <url>http://www.astrogrid.org/</url>
            <properties>
                <war.bundle>true</war.bundle>
            </properties>
        </dependency>
        <!--+
            | The Community common components.
            +-->
        <dependency>
            <groupId>${pom.groupId}</groupId>
            <artifactId>astrogrid-community-common</artifactId>
            <version>${pom.currentVersion}</version>
            <type>jar</type>
            <url>http://www.astrogrid.org/</url>
            <properties>
                <war.bundle>true</war.bundle>
            </properties>
        </dependency>
        <!--+
            | The Community client components.
            +-->
        <dependency>
            <groupId>${pom.groupId}</groupId>
            <artifactId>astrogrid-community-client</artifactId>
            <version>${pom.currentVersion}</version>
            <type>jar</type>
            <url>http://www.astrogrid.org/</url>
            <properties>
                <war.bundle>true</war.bundle>
            </properties>
        </dependency>
        <!--+
            | The Community server components.
            +-->
        <dependency>
            <groupId>${pom.groupId}</groupId>
            <artifactId>astrogrid-community-server</artifactId>
            <version>${pom.currentVersion}</version>
            <type>jar</type>
            <url>http://www.astrogrid.org/</url>
            <properties>
                <war.bundle>true</war.bundle>
            </properties>
        </dependency>
        <!--+
            | The Community resolver components.
            | (Used by the VoSpace client)
            +-->
        <dependency>
            <groupId>${pom.groupId}</groupId>
            <artifactId>astrogrid-community-resolver</artifactId>
            <version>${pom.currentVersion}</version>
            <type>jar</type>
            <url>http://www.astrogrid.org/</url>
            <properties>
                <war.bundle>true</war.bundle>
            </properties>
        </dependency>
        <!--+
            | The Registry common classes.
            +-->
        <dependency>
            <groupId>${pom.groupId}</groupId>
            <artifactId>astrogrid-registry-common</artifactId>
            <version>${astrogrid.registry.version}</version>
            <type>jar</type>
            <url>http://www.astrogrid.org/</url>
            <properties>
                <war.bundle>true</war.bundle>
            </properties>
        </dependency>
        <!--+
            | The Registry client components.
            +-->
        <dependency>
            <groupId>${pom.groupId}</groupId>
            <artifactId>astrogrid-registry-client-lite</artifactId>
            <version>${astrogrid.registry.version}</version>
            <type>jar</type>
            <url>http://www.astrogrid.org/</url>
            <properties>
                <war.bundle>true</war.bundle>
            </properties>
        </dependency>
    	
        <dependency>
        	<id>junit</id>
            <version>3.8</version>
            <properties>
                <war.bundle>true</war.bundle>
            </properties>
        </dependency>
    	
        <dependency>
	        <id>xmlunit</id>
            <version>1.0</version>
            <properties>
                <war.bundle>true</war.bundle>
            </properties>
        </dependency>
    	
    	
        <!--+
            | The MySpace delegate.
            +-->
        <dependency>
            <groupId>${pom.groupId}</groupId>
            <artifactId>astrogrid-store-client</artifactId>
            <version>${astrogrid.mySpace.version}</version>
            <type>jar</type>
            <url>http://www.astrogrid.org/</url>
            <properties>
                <war.bundle>true</war.bundle>
            </properties>
        </dependency>
        <!--+
            | The Castor JDO library.
            +-->
        <dependency>
            <groupId>castor</groupId>
            <artifactId>castor</artifactId>
            <version>0.9.5</version>
            <type>jar</type>
            <url>http://www.castor.org/</url>
            <properties>
                <war.bundle>true</war.bundle>
            </properties>
        </dependency>
        <!--+
            | The JTA library that Castor relies on.
            +-->
        <dependency>
            <groupId>jta</groupId>
            <artifactId>jta</artifactId>
            <version>1.0.1</version>
            <type>jar</type>
            <properties>
                <war.bundle>true</war.bundle>
            </properties>
        </dependency>
        <!--+
            | The Hsqldb library.
            +-->
        <dependency>
            <groupId>hsqldb</groupId>
            <artifactId>hsqldb</artifactId>
            <version>1.7.1</version>
            <type>jar</type>
            <url>http://www.hsqldb.org/</url>
            <properties>
                <war.bundle>true</war.bundle>
            </properties>
        </dependency>
        <!--+
            | Commons logging API.
            +-->
        <dependency>
            <artifactId>commons-logging</artifactId>
            <groupId>commons-logging</groupId>
            <version>1.0.3</version>
        	<!--
            <properties>
                <war.bundle>true</war.bundle>
            </properties>
            -->
        </dependency>
        <!--+
            | Log4j toolkit.
              Might not be needed.
            +-->
        <dependency>
            <groupId>log4j</groupId>
            <artifactId>log4j</artifactId>
            <version>1.2.8</version>
            <properties>
                <war.bundle>true</war.bundle>
            </properties>
        </dependency>
    </dependencies>

    <!--+
        | The build properties for our project.
        +-->
    <build>
        <!--+
            | The location of our Java source code.
            +-->
        <sourceDirectory>src/java</sourceDirectory>
        <!--+
            | The location of our JUnit source code.
            +-->
        <unitTestSourceDirectory>src/junit</unitTestSourceDirectory>
        <!--+
            | Our JUnit test classes.
            +-->
        <unitTest>
            <!--+
                | Which tests to include.
                +-->
            <includes>
                <include>**/*Test.java</include>
            </includes>
            <!--+
                | Which tests to exclude.
                +-->
            <excludes>
                <exclude>**/*Test.frog</exclude>
            </excludes>
            <!--+
                | The resources for our tests.
            <resources>
                <resource>
                </resource>
            </resources>
                +-->
        </unitTest>
    </build>

</project>






