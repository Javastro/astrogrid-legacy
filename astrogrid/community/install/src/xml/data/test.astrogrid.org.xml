<?xml version="1.0"?>
<community version="1.0">

    <!--+
        | Configure the list of local accounts.
        | A correspoding group for each account will be created automatically.
        +-->
    <accounts>
        <account ident="alpha" password="xxxx">
            <description>Test account</description>
        </account>
        <account ident="beta" password="xxxx">
            <description>Test account</description>
        </account>
        <account ident="admin" password="ktn">
            <description>Admin account</description>
        </account>
    </accounts>

    <!--+
        | Configure the list of local groups.
        | Members of the 'guest' group are allowed to login to the local Portal.
        | Members of the 'admin' group are allowed to administer the local Community.
        +-->
    <groups>
        <group ident="guest">
            <description>Local guest group</description>
        </group>
        <group ident="admin">
            <description>Local admin group</description>
        </group>

        <!--+
            | Add any other local groups here ....
            +-->
        <group ident="astro">
            <description>AstroGrid group</description>
        </group>
        <group ident="xray">
            <description>X-Ray group</description>
        </group>

    </groups>

    <!--+
        | Configure the list of local resources.
        | 'portal.site' controls login access to the local Portal.
        | 'portal.admin' controls admin access to the local Community.
        +-->
    <resources>
        <resource ident="portal.site">
            <description>Portal pages</description>
        </resource>

        <resource ident="portal.admin">
            <description>Portal admin pages</description>
        </resource>
        <resource ident="workflow">
            <description>Workflow resource</description>
        </resource>
        <resource ident="job">
            <description>Job-control resource</description>
         </resource>
    </resources>

    <!--+
        | Configure the list of trusted Community services.
        +-->
    <communities>

        <community ident="codon.demon.co.uk">
            <description>Dev system at codon</description>
            <service>http://codon.demon.co.uk:8080/axis/services/PolicyService</service>
            <manager>http://codon.demon.co.uk:8080/axis/services/PolicyManager</manager>
        </community>

        <community ident="ast.cam.ac.uk">
            <description>Dev system at Cambridge</description>
            <service>http://capc49.ast.cam.ac.uk:8080/axis/services/PolicyService</service>
            <manager>http://capc49.ast.cam.ac.uk:8080/axis/services/PolicyManager</manager>
        </community>
        <community ident="star.rl.ac.uk">
            <description>Dev system at RAL</description>
            <service>http://stargrid1.bnsc.rl.ac.uk:8080/axis/services/PolicyService</service>
            <manager>http://stargrid1.bnsc.rl..ac.uk:8080/axis/services/PolicyManager</manager>
        </community>
    </communities>

    <!--+
        | Add accounts to local groups.
        | All local accounts should be added to the 'guest' group.
        +-->
    <membership>
        <!-- Add local account(s) to local group(s) -->
        <member account="alpha"   group="guest"/>
        <member account="beta"    group="guest"/>
        <member account="admin"   group="guest"/>
        <member account="admin"   group="admin"/>
    </membership>

    <!--+
        | Set permissions for specific groups to access specific resources.
        +-->
    <permissions>
        <!--+
            | Members of the 'guest' group are allowed to login to the Portal site.
            +-->
        <permission group="guest" resource="portal.site" action="read">
            <status>GRANT</status>
            <reason>Login access to the portal site</reason>
        </permission>
        <!--+
            | Members of the 'admin' group are allowed to access the Community admin pages.
            +-->
        <permission group="admin" resource="portal.admin" action="read">
            <status>GRANT</status>
            <reason>Access to the Community admin pages</reason>
        </permission>

        <!--+
            | Add additional permissions here ....
            +-->
         <permission group="xray" resource="workflow" action="edit">
             <status>GRANT</status>
             <reason>X-Ray accounts can access workflow</reason>
         </permission>

         <permission group="xray" resource="job" action="edit">
              <status>GRANT</status>
              <reason>X-Ray accounts can access job-controller</reason>
         </permission>
    </permissions>

</community>

