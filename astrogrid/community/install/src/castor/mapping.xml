<?xml version="1.0" encoding="UTF-8"?>
<!--+
    |
    | <cvs:source>$Source: /Users/pharriso/Work/ag/repo/git/astrogrid-mirror/astrogrid/community/install/src/castor/mapping.xml,v $</cvs:source>
    | <cvs:author>$Author: dave $</cvs:author>
    | <cvs:date>$Date: 2004/03/30 01:40:03 $</cvs:date>
    | <cvs:version>$Revision: 1.3 $</cvs:version>
    | <cvs:log>
    |   $Log: mapping.xml,v $
    |   Revision 1.3  2004/03/30 01:40:03  dave
    |   Merged development branch, dave-dev-200403242058, into HEAD
    |
    |   Revision 1.2.4.2  2004/03/28 09:11:43  dave
    |   Convert tabs to spaces
    |
    |   Revision 1.2.4.1  2004/03/28 02:00:55  dave
    |   Added database management tasks.
    |
    | </cvs:log>
    |
    +-->
<mapping>

    <class name="org.astrogrid.community.install.loader.CommunityLoaderData">
        <map-to xml="community"/>
        <field name="ident" type="java.lang.String">
            <bind-xml name="ident" node="attribute"/>
        </field>
        <field name="accounts" collection="collection" type="org.astrogrid.community.common.policy.data.AccountData">
            <bind-xml name="account" location="accounts"/>
        </field>
        <field name="groups" collection="collection" type="org.astrogrid.community.common.policy.data.GroupData">
            <bind-xml name="group" location="groups"/>
        </field>

        <field name="passwords" collection="map" type="org.exolab.castor.mapping.MapItem">
            <bind-xml name="password" location="passwords"/>
        </field>
        <!--+
            | Needs Castor 0.9.5.3
        <field name="passwords" collection="map">
            <bind-xml name="password" location="passwords">
                <class name="org.exolab.castor.mapping.MapItem">
                    <field name="key" type="java.lang.String">
                        <bind-xml name="account" node="attribute"/>
                    </field>
                    <field name="value" type="java.lang.String">
                        <bind-xml name="password" node="attribute"/>
                    </field>
                </class>
            </bind-xml>
        </field>
            +-->
    </class>

    <!--+
        | Required for the password map items.
        +-->
    <class name="org.exolab.castor.mapping.MapItem">
        <field name="key" type="java.lang.String">
            <bind-xml name="account" node="attribute"/>
        </field>
        <field name="value" type="java.lang.String">
            <bind-xml name="password" node="attribute"/>
        </field>
    </class>

    <class name="org.astrogrid.community.common.policy.data.AccountData">
        <map-to xml="account"/>
        <field name="ident" type="java.lang.String">
            <bind-xml name="ident" node="attribute"/>
        </field>
        <field name="displayName" type="java.lang.String">
            <bind-xml name="display" node="element"/>
        </field>
        <field name="description" type="java.lang.String">
            <bind-xml name="description" node="element"/>
        </field>
        <field name="homeSpace" type="java.lang.String">
            <bind-xml name="home" node="element"/>
        </field>
        <field name="emailAddress" type="java.lang.String">
            <bind-xml name="email" node="element"/>
        </field>
    </class>

    <class name="org.astrogrid.community.common.policy.data.GroupData">
        <map-to xml="group"/>
        <field name="ident" type="java.lang.String">
            <bind-xml name="ident" node="attribute"/>
        </field>
        <field name="description" type="java.lang.String">
            <bind-xml name="description" node="element"/>
        </field>
    </class>

    <!--
    <class name="org.astrogrid.community.server.security.data.PasswordData">
        <map-to xml="password"/>
        <field name="account" type="java.lang.String">
            <bind-xml name="account" node="attribute"/>
        </field>
        <field name="password" type="java.lang.String">
            <bind-xml name="password" node="attribute"/>
        </field>
        <field name="encryption" type="java.lang.String">
            <bind-xml name="encryption" node="attribute"/>
        </field>
    </class>
    -->

</mapping>
