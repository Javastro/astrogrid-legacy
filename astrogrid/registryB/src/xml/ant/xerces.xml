<?xml version="1.0"?>
<!--+
    | <cvs:source>$Source: /Users/pharriso/Work/ag/repo/git/astrogrid-mirror/astrogrid/registryB/src/xml/ant/Attic/xerces.xml,v $</cvs:source>
    | <cvs:author>$Author: KevinBenson $</cvs:author>
    | <cvs:date>$Date: 2003/10/28 10:23:58 $</cvs:date>
    | <cvs:version>$Revision: 1.1 $</cvs:version>
    | <cvs:log>
    |   $Log: xerces.xml,v $
    |   Revision 1.1  2003/10/28 10:23:58  KevinBenson
    |   *** empty log message ***
    |
    | </cvs:log>
    |
    | Ant build script for Xerces specific tasks.
    |
    +-->
<project default="init">

    <!--+
        | Initialise the components.
        +-->
    <target name="init">
        <echo message="Xerces settings"/>
        <echo message="  xerces.version   : ${xerces.version}"/>
        <echo message="  xerces.home      : ${xerces.home}"/>
        <echo message=""/>
    </target>

    <!--+
        | Xerces properties.
        +-->
    <property name="xerces.home"    value="${project.base}/build/xerces"/>
    <property name="xerces.version" value="2.5.0"/>
    <property name="xerces.content" value="xerces-2_5_0"/>
    <property name="xerces.zip"     value="xerces-${xerces.version}.zip"/>
    <property name="xerces.source"  value="http://codon.demon.co.uk/installs/java/libraries/xerces/xerces-${xerces.version}/${xerces.zip}"/>

    <!--+
        | Xerces library classpath.
        +-->
    <path id="xerces.classpath">
        <pathelement location="${xerces.home}/xml-apis.jar"/>
        <pathelement location="${xerces.home}/xercesImpl.jar"/>
    </path>

    <!--+
        | Delete the Xerces binary.
        +-->
    <target name="dist.delete" depends="">
        <delete dir="${xerces.home}"/>
    </target>

    <!--+
        | Download the Xerces binary.
        +-->
    <target name="dist.fetch" depends="">
        <mkdir dir="${download.cache}"/>
        <get verbose="true" usetimestamp="true"
            src="${xerces.source}"
            dest="${download.cache}/${xerces.zip}"
            />
    </target>

    <!--+
        | Unzip the Xerces binary.
        +-->
    <target name="dist.unzip" depends="">
        <mkdir dir="${download.temp}/xerces"/>
        <unzip src="${download.cache}/${xerces.zip}" dest="${download.temp}/xerces"/>
        <move toDir="${xerces.home}">
            <fileset dir="${download.temp}/xerces/${xerces.content}"/>
        </move>
        <delete dir="${download.temp}/xerces"/>
    </target>

    <!--+
        | Install the Xerces binary.
        +-->
    <target name="dist.install" depends="">
        <antcall target="dist.delete"/>
        <antcall target="dist.fetch"/>
        <antcall target="dist.unzip"/>
    </target>

    <!--+
        | Copy the Xerces jars into the local endorsed directory.
        | Required with Castor on JDK 1.4.1 and Tomcat 4.1.24
        +-->
    <target name="install.endorsed" depends="">
        <copy verbose="true" toDir="${project.endorsed}">
            <fileset dir="${xerces.home}">
                <include name="xml-apis.jar"/>
                <include name="xercesImpl.jar"/>
            </fileset>
        </copy>
    </target>

</project>
