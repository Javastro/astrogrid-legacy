<?xml version="1.0" encoding="utf-8"?>
<project xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
	<extend>../../maven-base/project.xml</extend>
	<id>astrogrid-cea-server</id>
	<currentVersion>${astrogrid.applications.version}</currentVersion>
	<name>AstroGrid CEA Framework</name>
	<description><![CDATA[ This project provides a jar of common components that can be used to construct different cea servers <p /> It also provides a pre-packaged war file, configured to expose simple java methds as cea applications. This war file can be used for testing, and also as a starting point for packaging other types of cea server.  Follow the CEA Application Provider link on the left for documentation specific to this particular flavour of CEA server. <p /> <i> describe workaround for how to depend on both types of artifact with the same name. </i>]]></description>
	<shortDescription>AstroGrid CEA Server common components</shortDescription>
	<packageGroups>
		<packageGroup>
			<title>Application Execution</title>
			<packages>org.astrogrid.applications</packages>
		</packageGroup>
		<packageGroup>
			<title>Application Metadata</title>
			<packages>org.astrogrid.applications.description*</packages>
		</packageGroup>
		<packageGroup>
			<title>Parameters and Handlers</title>
			<packages>org.astrogrid.applications.parameter*</packages>
		</packageGroup>
		<packageGroup>
			<title>JavaClass CEA Provider</title>
			<packages>org.astrogrid.applications.javaclass</packages>
		</packageGroup>
		<packageGroup>
			<title>CEA Server</title>
			<packages>org.astrogrid.applications.manager*, org.astrogrid.applications.service*,
				org.astrogrid.applications.component</packages>
		</packageGroup>
	</packageGroups>
	<dependencies>
		<!-- astrogrid -specific deps -->
		<dependency>
			<groupId>org.astrogrid</groupId>
			<artifactId>astrogrid-common</artifactId>
			<version>${astrogrid.common.version}</version>
			<properties>
				<war.bundle>true</war.bundle>
			</properties>
		</dependency>
		<dependency>
			<groupId>org.astrogrid</groupId>
			<artifactId>astrogrid-registry-client-lite</artifactId>
			<version>${astrogrid.registry.version}</version>
			<properties>
				<war.bundle>true</war.bundle>
			</properties>
		</dependency>
		<dependency>
			<groupId>org.astrogrid</groupId>
			<artifactId>astrogrid-registry-common</artifactId>
			<version>${astrogrid.registry.version}</version>
			<properties>
				<war.bundle>true</war.bundle>
			</properties>
		</dependency>
            <!-- used to implement a weak-reference cache in the registry -->
        	<dependency>
    	    	<id>commons-collections</id>
          		<version>3.0</version>
          		<properties>
            		<jar.fileset>true</jar.fileset>
          			 <war.bundle>true</war.bundle>          			
          		</properties>
        	</dependency>		
		<!-- these are the bits that common was broken into -->
		    <dependency>
      <groupId>org.astrogrid</groupId>
            <artifactId>astrogrid-pal-query</artifactId>
            <version>${astrogrid.pal.version}</version>
            <type>jar</type>
                <properties>
                  <war.bundle>true</war.bundle>
                </properties>
        </dependency>

        <!-- for writing XML -->
       <dependency>
          <artifactId>astrogrid-xml</artifactId>
          <groupId>org.astrogrid</groupId>
          <version>${astrogrid.xml.latest}</version>
            <properties>
              <war.bundle>true</war.bundle>
            </properties>
       </dependency>

       <dependency>
          <artifactId>astrogrid-slinger-api</artifactId>
          <groupId>org.astrogrid</groupId>
          <version>${astrogrid.slinger.version}</version>
            <properties>
              <war.bundle>true</war.bundle>
            </properties>
       </dependency>
	   <dependency>
          <artifactId>astrogrid-utils</artifactId>
          <groupId>org.astrogrid</groupId>
          <version>${astrogrid.utils.stable}</version>
		   <properties>
            	<war.bundle>true</war.bundle>
            </properties>
       </dependency>
	   
		<!-- grr..-->
		<dependency>
			<groupId>org.astrogrid</groupId>
			<artifactId>astrogrid-community-common</artifactId>
			<version>${astrogrid.community.version}</version>
			<properties>
				<war.bundle>true</war.bundle>
			</properties>
		</dependency>
		<dependency>
			<groupId>org.astrogrid</groupId>
			<artifactId>astrogrid-community-resolver</artifactId>
			<version>${astrogrid.community.version}</version>
			<properties>
				<war.bundle>true</war.bundle>
			</properties>
		</dependency>
		<dependency>
			<groupId>org.astrogrid</groupId>
			<artifactId>astrogrid-community-client</artifactId>
			<version>${astrogrid.community.version}</version>
			<properties>
				<war.bundle>true</war.bundle>
			</properties>
		</dependency>
		<dependency>
			<groupId>org.astrogrid</groupId>
			<artifactId>astrogrid-filemanager-client</artifactId>
			<version>${astrogrid.filemanager.version}</version>
			<properties>
				<war.bundle>true</war.bundle>
			</properties>
		</dependency>
		<dependency>
			<groupId>org.astrogrid</groupId>
			<artifactId>astrogrid-filemanager-contract</artifactId>
			<version>${astrogrid.filemanager.version}</version>
			<properties>
				<war.bundle>true</war.bundle>
			</properties>
		</dependency>
		<!-- filestore -->
		<dependency>
			<groupId>org.astrogrid</groupId>
			<artifactId>astrogrid-filestore-client</artifactId>
			<version>${astrogrid.filestore.version}</version>
			<type>jar</type>
			<url>http://www.astrogrid.org/</url>
			<properties>
				<war.bundle>true</war.bundle>
			</properties>
		</dependency>
		<dependency>
			<groupId>org.astrogrid</groupId>
			<artifactId>astrogrid-filestore-common</artifactId>
			<version>${astrogrid.filestore.version}</version>
			<type>jar</type>
			<url>http://www.astrogrid.org/</url>
			<properties>
				<war.bundle>true</war.bundle>
			</properties>
		</dependency>
		<dependency>
			<groupId>org.astrogrid</groupId>
			<artifactId>astrogrid-jes-delegate</artifactId>
			<version>${astrogrid.jes.version}</version>
			<properties>
				<war.bundle>true</war.bundle>
			</properties>
		</dependency>
		<dependency>
			<groupId>org.astrogrid</groupId>
			<artifactId>astrogrid-workflow-objects</artifactId>
			<version>${astrogrid.workflowobjects.version}</version>
			<properties>
				<war.bundle>true</war.bundle>
			</properties>
		</dependency>
		<!-- we don't need this one to compile, but want to include it in the war file -->
		<dependency>
			<groupId>org.astrogrid</groupId>
			<artifactId>astrogrid-cea-client</artifactId>
			<version>${pom.currentVersion}</version>
			<type>zip</type>
			<properties>
				<war.target.path>client</war.target.path>
			</properties>
		</dependency>
		<!-- pico container -->
		<dependency>
			<id>picocontainer</id>
			<version>1.1</version>
			<properties>
				<war.bundle>true</war.bundle>
			</properties>
		</dependency>
		<!-- concurrency lib - for thread pools, factories, queues, etc. -->
		<dependency>
			<id>concurrent</id>
			<version>1.3.1</version>
			<properties>
				<war.bundle>true</war.bundle>
			</properties>
		</dependency>
		<!-- castor -->
		<dependency>
			<artifactId>castor</artifactId>
			<groupId>castor</groupId>
			<version>0.9.5</version>
			<jar>castor-0.9.5-xml.jar</jar>
			<properties>
				<war.bundle>true</war.bundle>
			</properties>
		</dependency>
		<dependency>
			<id>xerces</id>
			<version>2.4.0</version>
			<properties>
				<war.bundle>true</war.bundle>
			</properties>
		</dependency>
		<dependency>
			<id>regexp</id>
			<version>1.3</version>
			<properties>
				<war.bundle>true</war.bundle>
			</properties>
		</dependency>
		<dependency>
			<groupId>oro</groupId>
			<artifactId>oro</artifactId>
			<version>2.0.7</version>
			<properties>
				<war.bundle>true</war.bundle>
			</properties>
		</dependency>
		<dependency>
			<artifactId>commons-jxpath</artifactId>
			<groupId>commons-jxpath</groupId>
			<version>1.1</version>
			<properties>
				<war.bundle>true</war.bundle>
			</properties>
		</dependency>
		<dependency>
			<groupId>commons-collections</groupId>
			<artifactId>commons-collections</artifactId>
			<version>3.0</version>
			<properties>
				<war.bundle>true</war.bundle>
			</properties>
		</dependency>
		<dependency>
			<groupId>commons-beanutils</groupId>
			<artifactId>commons-beanutils</artifactId>
			<version>1.6.1</version>
			<properties>
				<war.bundle>true</war.bundle>
			</properties>
		</dependency>
		<!-- logging and testing -->
		<dependency>
			<groupId>junit</groupId>
			<artifactId>junit</artifactId>
			<version>3.8</version>
			<properties>
				<war.bundle>true</war.bundle>
			</properties>
		</dependency>
		<dependency>
			<id>log4j</id>
			<version>1.2.8</version>
			<properties>
				<war.bundle>true</war.bundle>
			</properties>
		</dependency>
		 <dependency> <!-- this is used in unit tests, and referenced from within self tests.-->
			<id>xmlunit</id>
		<version>1.0</version>
			<properties>
				<war.bundle>true</war.bundle>
			</properties>
		
		</dependency>
		
		<!-- axis, and the jars it relies upon -->
		<dependency>
			<id>axis</id>
			<version>1.1</version>
			<properties>
				<war.bundle>true</war.bundle>
			</properties>
		</dependency>
		<dependency>
			<id>wsdl4j</id>
			<version>1.0</version>
			<properties>
				<war.bundle>true</war.bundle>
			</properties>
		</dependency>
		<dependency>
			<id>saaj</id>
			<version>1.0</version>
			<jar>saaj.jar</jar>
			<properties>
				<war.bundle>true</war.bundle>
			</properties>
		</dependency>
		<dependency>
			<id>commons-logging</id>
			<version>1.0.3</version>
			<properties>
				<war.bundle>true</war.bundle>
			</properties>
		</dependency>
		<dependency>
			<id>commons-discovery</id>
			<version>20030211.213356</version>
			<!--<version>SNAPSHOT</version>-->
			<properties>
				<war.bundle>true</war.bundle>
			</properties>
		</dependency>
		<dependency>
			<id>jaxrpc-api</id>
			<version>1.0.3</version>
			<properties>
				<war.bundle>true</war.bundle>
			</properties>
		</dependency>
		<dependency>
			<id>xml-apis</id>
			<version>1.0.b2</version>
			<properties>
				<war.bundle>true</war.bundle>
			</properties>
		</dependency>
		<!-- libraries used in specific java-applications -->
		<dependency>
			<groupId>sun</groupId>
			<artifactId>mail</artifactId>
			<version>1.3.1</version>
		</dependency>
		<dependency>
			<groupId>starlink</groupId>
			<artifactId>stil</artifactId>
			<version>2.0-1</version>
			<url>http://www.star.bristol.ac.uk/~mbt/stil/</url>
			<properties>
				<war.bundle>true</war.bundle>
			</properties>
		</dependency>
		<!-- used to provide in-war unit testing only -->
		<dependency>
			<artifactId>junitee</artifactId>
			<groupId>junitee</groupId>
			<version>1.8</version>
			<properties>
				<war.bundle>true</war.bundle>
			</properties>
		</dependency>
		<dependency>
			<!-- hsqldb - will be used in future -->
			<id>hsqldb</id>
			<version>1.7.1</version>
			<properties>
				<war.bundle>true</war.bundle>
			</properties>
		</dependency>
		<dependency>
			<artifactId>servletapi</artifactId>
			<groupId>servletapi</groupId>
			<version>2.3</version>
		</dependency>
		<!-- build tools - not added to jar-->
		<dependency>
			<groupId>catalina-ant</groupId>
			<artifactId>catalina-ant</artifactId>
			<version>4.1.24</version>
		</dependency>
		<dependency>
			<artifactId>axis-ant</artifactId>
			<groupId>axis</groupId>
			<version>1.1</version>
		</dependency>
		<!-- Axis needs this; Tomcat does not supply it. -->
		<dependency>
			<groupId>activation</groupId>
			<type>jar</type>
			<artifactId>activation</artifactId>
			<version>1.0.2</version>
			<properties>
				<war.bundle>true</war.bundle>
			</properties>
		</dependency>
	</dependencies>
	<build>
		<sourceDirectory>src/java</sourceDirectory>
		<unitTestSourceDirectory>test/java</unitTestSourceDirectory>
		<unitTest>
			<includes>
				<include>**/*Test.java</include>
			</includes>
			<resources>
				<resource>
					<directory>${basedir}/test/java</directory>
					<includes>
						<include>app/**</include>
						<include>**/*.xml</include>
						<include>**/*.properties</include>
						<include>**/*.sql</include>
						<include>**/*.txt</include>
						<include>**/*.csv</include>
					</includes>
				</resource>
			</resources>
		</unitTest>
		<resources>
			<resource>
				<!-- config files -->
				<directory>${basedir}/src/java</directory>
				<includes>
					<include>**/*.xml</include>
					<include>**/*.properties</include>
					<include>**/*.xsl</include>
				</includes>
			</resource>
		</resources>
	</build>
</project>
