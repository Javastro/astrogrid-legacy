<?xml version="1.0" encoding="UTF-8"?>
<!--$Id: applicationDefinitions.xml,v 1.3 2005/07/05 08:27:00 clq2 Exp $-->
<!--This is the configuration file for the Iteration5 application controller-->
<!-- \\pahlaptop\work\astrogrid\src\workflow-objects\schema\AGParameterDefinition.xsd -->
<CommandLineExecutionControllerConfig xmlns="http://www.astrogrid.org/schema/CEAImplementation/v1" xmlns:ceaimp="http://www.astrogrid.org/schema/CEAImplementation/v1" xmlns:ceab="http://www.astrogrid.org/schema/CommonExecutionArchitectureBase/v1" xmlns:agpd="http://www.astrogrid.org/schema/AGParameterDefinition/v1" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.astrogrid.org/schema/CEAImplementation/v1 ../../../../workflow-objects/schema/CEAImplementation.xsd">
	<Application name="org.astrogrid/SExtractor" instanceClass="org.astrogrid.applications.commandline.sextractor.SExtractor">
		<!--This is the application to concentrate on for the end of this iteration-->
		<ceab:Parameters>
			<!-- temporarily turn the images into direct file references - for performance during the AVO demo -->
			<CmdLineParameterDefn name="DetectionImage" type="binary" commandPosition="1">
				<agpd:UI_Name>Detection Image</agpd:UI_Name>
				<agpd:UI_Description>The image that is used to detect sources. Basic position, shape and size informtaion is derived from this image</agpd:UI_Description>
			</CmdLineParameterDefn>
			<CmdLineParameterDefn name="PhotoImage" type="binary" commandPosition="2">
				<agpd:UI_Name>Measurement Image</agpd:UI_Name>
				<agpd:UI_Description>The Image that is used to measure photometric parameters</agpd:UI_Description>
			</CmdLineParameterDefn>
			<CmdLineParameterDefn name="config_file" type="text" commandSwitch="c">
				<agpd:UI_Name>Configuration File</agpd:UI_Name>
				<agpd:UI_Description>File containing the main configuration parameters for SExtractor</agpd:UI_Description>
			</CmdLineParameterDefn>
			<CmdLineParameterDefn name="PARAMETERS_NAME" type="text">
				<agpd:UI_Name>Parameter File</agpd:UI_Name>
				<agpd:UI_Description>A File containing the list of catalogue paramters that should be computed</agpd:UI_Description>
			</CmdLineParameterDefn>
			<CmdLineParameterDefn name="CATALOG_NAME" type="text">
				<agpd:UI_Name>Derived output catalogue</agpd:UI_Name>
				<agpd:UI_Description>The catalogue of images derived from the input images</agpd:UI_Description>
			</CmdLineParameterDefn>
		</ceab:Parameters>
		<Interfaces xmlns="http://www.astrogrid.org/schema/CommonExecutionArchitectureBase/v1">
			<Interface name="Simple">
				<input>
					<pref ref="DetectionImage"/>
					<pref ref="PhotoImage"/>
					<pref ref="config_file"/>
					<pref ref="PARAMETERS_NAME"/>
				</input>
				<output>
					<pref ref="CATALOG_NAME"/>
				</output>
			</Interface>
		</Interfaces>
		<ExecutionPath>/home/applications/tools/sextractor-2.3/sex</ExecutionPath>
	<LongName>Sextractor</LongName>
	</Application>
	<Application name="org.astrogrid/HyperZ" instanceClass="org.astrogrid.applications.commandline.hyperz.HyperZ">
		<!--HyperZ is another tool that will be driven by config files - however this might not be the full set necessary to run this tool.-->
		<ceab:Parameters>
			<CmdLineParameterDefn name="config_file" type="text" commandPosition="1">
				<agpd:UI_Name>Configuration File</agpd:UI_Name>
				<agpd:UI_Description>A HyperZ configuration file</agpd:UI_Description>
			</CmdLineParameterDefn>
			<CmdLineParameterDefn name="input_catalog" type="text" commandSwitch="CATALOG_FILE">
				<agpd:UI_Name>Magnitude Catalogue</agpd:UI_Name>
				<agpd:UI_Description>The input catalogue of measured magnitude</agpd:UI_Description>
			</CmdLineParameterDefn>
			<CmdLineParameterDefn name="output_catalog" type="text" commandSwitch="OUTPUT_CATALOG">
				<agpd:UI_Name>Redshift Catalogue</agpd:UI_Name>
				<agpd:UI_Description>The catalogue of estimated redshifts</agpd:UI_Description>
			</CmdLineParameterDefn>
		</ceab:Parameters>
		<Interfaces xmlns="http://www.astrogrid.org/schema/CommonExecutionArchitectureBase/v1">
			<Interface name="simple">
				<input>
					<pref ref="config_file"/>
					<pref ref="input_catalog"/>
				</input>
				<output>
					<pref ref="output_catalog"/>
				</output>
			</Interface>
		</Interfaces>
		<ExecutionPath>/home/applications/tools/ZPHOT/hyperzwrapper.sh</ExecutionPath>
	<LongName>HyperZ</LongName>
	</Application>
	<Application name="org.astrogrid/CrossMatcher" instanceClass="org.astrogrid.applications.commandline.dft.Dft">
		<!--This is Patricio's data federation tool that will be needed for the january demo I believe - It is more complicated than those above in that it has more different types of parameter. Additionally I think that it would be good for the UI to be able to look into the VOTables to give the user a list of columns to chose from - otherwise this would be a very painful process for the user.-->
		<!-- these parameters are incorrect in the latest verison of the tool -->
		<ceab:Parameters>
			<CmdLineParameterDefn name="targets" type="VOTable" switchType="keyword">
				<agpd:UI_Name>Target votable</agpd:UI_Name>
				<agpd:UI_Description>The VOTable file containing the target sources</agpd:UI_Description>
			</CmdLineParameterDefn>
			<CmdLineParameterDefn name="matches" type="VOTable" switchType="keyword">
				<agpd:UI_Name>Match VOTable</agpd:UI_Name>
				<agpd:UI_Description>The VOTable file containing the sources to match</agpd:UI_Description>
			</CmdLineParameterDefn>
			<CmdLineParameterDefn name="merged_output" type="VOTable" commandPosition="1">
				<agpd:UI_Name>Resulting VOTable</agpd:UI_Name>
				<agpd:UI_Description>The VOTable file containing result of the match</agpd:UI_Description>
			</CmdLineParameterDefn>
			<CmdLineParameterDefn name="matchRadius" type="double" commandSwitch="String">
				<agpd:UI_Name>Match Radius</agpd:UI_Name>
				<agpd:UI_Description>??</agpd:UI_Description>
			</CmdLineParameterDefn>
			<CmdLineParameterDefn name="radMax" type="double" commandSwitch="String">
				<agpd:UI_Name>Maximum search radius</agpd:UI_Name>
				<agpd:UI_Description>??</agpd:UI_Description>
			</CmdLineParameterDefn>
			<CmdLineParameterDefn name="output" type="text" commandSwitch="String">
				<agpd:UI_Name>output type</agpd:UI_Name>
				<agpd:UI_Description>This can be one of HTML VOTable of Ascii, with the default being VOTable</agpd:UI_Description>
				<agpd:DefaultValue>VOTable</agpd:DefaultValue>
			</CmdLineParameterDefn>
			<CmdLineParameterDefn name="maxMatches" type="integer">
				<agpd:UI_Name>maximum number of matches per target</agpd:UI_Name>
				<agpd:UI_Description>maximum number of matches per target</agpd:UI_Description>
			</CmdLineParameterDefn>
		</ceab:Parameters>
		<!--this would be nicer as a list type - need to implement that...-->
		<Interfaces xmlns="http://www.astrogrid.org/schema/CommonExecutionArchitectureBase/v1">
			<Interface name="simple">
				<input>
					<pref ref="targets" maxoccurs="0"/>
					<pref ref="matches" maxoccurs="0"/>
				</input>
				<output>
					<pref ref="merged_output"/>
				</output>
			</Interface>
		</Interfaces>
		<ExecutionPath>/home/applications/tools/dft/bin/dft</ExecutionPath>
	<LongName>dft</LongName>
	</Application>
</CommandLineExecutionControllerConfig>
