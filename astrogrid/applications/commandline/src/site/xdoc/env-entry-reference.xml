<?xml version="1.0" encoding="ISO-8859-1"?>
<document>
<properties>
        <author email="pah@jb.manac.uk">Paul Harrison</author>
        <title>Reference guide to the environment entries for the CEC</title>
</properties>

<body>

<section name="Environment entries">
<p>The environment entries that are necessary for the correct functioning of the CEC are detailed below. These values can be set as <a href="http://tomcat.apache.org/tomcat-5.5-doc/jndi-resources-howto.html">JNDI entries</a>. For Tomcat 5.5 this means editing a file 
<tt>${CATALINA_HOME}/conf/Catalina/localhost/{context}.xml </tt>, where context is equal to the </p>
 <dl>
 	
 	<dt>cea.base.dir</dt>
 	<dd>The URL for the file that describes the local applications.
 		The CL-CEC needs to read this file when it starts up to determine what
 		it may run. The URL normally points to a local file but may point to
 		a public web-server. 
 	</dd>
 	
 	<dt>org.astrogrid.registry.query.endpoint</dt>
 	<dd>
 		The service endpoint (or access URL) for querying a registry web-service. The CL-CEC
 		will use this registry to locate servers in VOSpace. Therefore, if this
 		entry is not set correctly you will find that the CL-CEC will not be able to
 		complete jobs that read or write files in VOSpace.
 	</dd>
 	<dd>
 		The default value points to AstroGrid's central reference registry. This
 		value will most probably work satisfactorily for your CL-CEC. However,
 		you may be able to get better performance by changing to a different
 		registry, e.g. one with lower load or closer on the network to the CL-CEC.
 		You will definitely have to change to change reference registry if your
 		VOSpace assets are on servers not known to AstroGrid.
 	</dd>
 	
 	<dt>org.astrogrid.registry.update</dt>
 	<dd>
 		The service endpoint (or access URL) for updating a registry via its 
 		web service. The CL-CEC will use this registry to register itself and its
 		applications. Therefore, if you do not complete this entry the CL-CEC will
 		not be able to register by itself. (You could then register it manually,
 		by writing the registration documents yourself.)
 	</dd>
  <dd>
 		AstroGrid recommends that you run your own publishing registry and
 		register your CEC (and other services) in that. The main reference
  	registries in the VO then harvest the registrations from your publishing
  	registry. This gives you tight control over the registry metadata for
  	your services and makes it easier for you to manage your own resources.
  
  </dd>
 	<dd>
  	You can, currently,
  	register in the central AstroGrid reference registry. However, in later
  	versions of the AstroGrid system this will no longer be allowed and you
  	will have to use your own registry.
 	</dd>
 	<dd>
    The default value for this environment entry specifies the server "localhost"
 		and the port number 8080. This <em>won't</em> work in general; you have to
 		set this entry. The default is only there to show you the URL pattern for
 		an AstroGrid registry. 
 	</dd>
 		
		
 	</dl>
 		
	</section>
	
</body>
</document>
