<?xml version="1.0" encoding="UTF-8"?>
<!--$Id: applicationDefinitions.xml,v 1.9 2004/02/02 16:49:44 pah Exp $-->
<!--This is the configuration file for the Iteration4 application controller-->
<ApplicationController xmlns="http://www.astrogrid.org/schema/AGParameterDefinition/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.astrogrid.org/schema/AGParameterDefinition http://www.astrogrid.org/schema/AGParameterDefinition/AGParameterDefinition.xsd">
	<Application name="SExtractor" instanceClass="org.astrogrid.applications.commandline.sextractor.SExtractor">
		<!--This is the application to concentrate on for the end of this iteration-->
		<ExecutionPath>/home/applications/tools/sextractor-2.3/sex</ExecutionPath>
		<Parameters>
			<!-- temporarily turn the images into direct file references - for performance during the AVO demo -->
			<Parameter name="DetectionImage" type="agpd:FileReference" commandPosition="1">
				<UI_Name>Detection Image</UI_Name>
				<UI_Description>The image that is used to detect sources. Basic position, shape and size informtaion is derived from this image</UI_Description>
			</Parameter>
			<Parameter name="PhotoImage" type="agpd:FileReference" commandPosition="2">
				<UI_Name>Measurement Image</UI_Name>
				<UI_Description>The Image that is used to measure photometric parameters</UI_Description>
			</Parameter>
			<Parameter name="config_file" type="agpd:FileReference" commandSwitch="c">
				<UI_Name>Configuration File</UI_Name>
				<UI_Description>File containing the main configuration parameters for SExtractor</UI_Description>
			</Parameter>
			<Parameter name="PARAMETERS_NAME" type="agpd:FileReference">
				<UI_Name>Parameter File</UI_Name>
				<UI_Description>A File containing the list of catalogue paramters that should be computed</UI_Description>
			</Parameter>
			<Parameter name="CATALOG_NAME" type="agpd:MySpace_FileReference">
				<UI_Name>Derived output catalogue</UI_Name>
				<UI_Description>The catalogue of images derived from the input images</UI_Description>
			</Parameter>
		</Parameters>
		<Interfaces>
			<Interface name="Simple">
				<input>
					<pref ref="DetectionImage"/>
					<pref ref="PhotoImage"/>
					<pref ref="config_file"/>
					<pref ref="PARAMETERS_NAME"/>
				</input>
				<output>
					<pref ref="CATALOG_NAME"/>
				</output>
			</Interface>
		</Interfaces>
	</Application>
	<Application name="HyperZ" instanceClass="org.astrogrid.applications.commandline.hyperz.HyperZ">
		<!--HyperZ is another tool that will be driven by config files - however this might not be the full set necessary to run this tool.-->
		<ExecutionPath>/home/applications/tools/ZPHOT/hyperzwrapper.sh</ExecutionPath>
		<Parameters>
			<Parameter name="config_file" type="agpd:FileReference" commandPosition="1">
				<UI_Name>Configuration File</UI_Name>
				<UI_Description>A HyperZ configuration file</UI_Description>
			</Parameter>
			<Parameter name="input_catalog" type="agpd:MySpace_FileReference" commandSwitch="CATALOG_FILE">
				<UI_Name>Magnitude Catalogue</UI_Name>
				<UI_Description>The input catalogue of measured magnitude</UI_Description>
			</Parameter>
			<Parameter name="output_catalog" type="agpd:MySpace_FileReference" commandSwitch="OUTPUT_CATALOG">
				<UCD/>
				<UI_Name>Redshift Catalogue</UI_Name>
				<UI_Description>The catalogue of estimated redshifts</UI_Description>
			</Parameter>
		</Parameters>
		<Interfaces>
			<Interface name="simple">
				<input>
					<pref ref="config_file"/>
					<pref ref="input_catalog"/>
				</input>
				<output>
					<pref ref="output_catalog"/>
				</output>
			</Interface>
		</Interfaces>
	</Application>
	<Application name="CrossMatcher" instanceClass="org.astrogrid.applications.commandline.dft.Dft">
		<!--This is Patricio's data federation tool that will be needed for the january demo I believe - It is more complicated than those above in that it has more different types of parameter. Additionally I think that it would be good for the UI to be able to look into the VOTables to give the user a list of columns to chose from - otherwise this would be a very painful process for the user.-->
		<ExecutionPath>/home/applications/tools/dft/bin/dft</ExecutionPath>
		<!-- these parameters are incorrect in the latest verison of the tool -->
		<Parameters>
			<Parameter name="targets" type="agpd:MySpace_VOTableReference" switchType="keyword">
				<UI_Name>Target votable</UI_Name>
				<UI_Description>The VOTable file containing the target sources</UI_Description>
			</Parameter>
			<Parameter name="matches" type="agpd:MySpace_VOTableReference" switchType="keyword">
				<UI_Name>Match VOTable</UI_Name>
				<UI_Description>The VOTable file containing the sources to match</UI_Description>
			</Parameter>
			<Parameter name="merged_output" type="agpd:MySpace_VOTableReference" commandPosition="1">
				<UI_Name>Resulting VOTable</UI_Name>
				<UI_Description>The VOTable file containing result of the match</UI_Description>
			</Parameter>
			<Parameter name="matchRadius" type="xs:double" commandSwitch="String">
				<UI_Name>Match Radius</UI_Name>
				<UI_Description>??</UI_Description>
			</Parameter>
			<Parameter name="radMax" type="xs:double" commandSwitch="String">
				<UI_Name>Maximum search radius</UI_Name>
				<UI_Description>??</UI_Description>
			</Parameter>
			<Parameter name="output" type="xs:string" commandSwitch="String">
				<UI_Name>output type</UI_Name>
				<UI_Description>This can be one of HTML VOTable of Ascii, with the default being VOTable</UI_Description>
				<DefaultValue>VOTable</DefaultValue>
			</Parameter>
			<Parameter name="maxMatches" type="xs:integer">
				<UI_Name>maximum number of matches per target</UI_Name>
				<UI_Description>maximum number of matches per target</UI_Description>
			</Parameter>
		</Parameters>
		<!--this would be nicer as a list type - need to implement that...-->
		<Interfaces>
			<Interface name="simple">
				<input>
					<pref ref="targets" repeatable="true"/>
					<pref ref="matches" repeatable="true"/>
				</input>
				<output>
					<pref ref="merged_output"/>
				</output>
			</Interface>
		</Interfaces>
	</Application>
</ApplicationController>
