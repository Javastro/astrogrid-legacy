<?xml version="1.0" encoding="UTF-8"?>
<wsdl:definitions targetNamespace="urn:jes/jobscheduler/v1"
                xmlns="urn:jes/jobscheduler/v1"
                xmlns:types="urn:jes/types/v1"
                xmlns:ceat="http://www.astrogrid.org/schema/CEATypes/v1" 

                  xmlns:apachesoap="http://xml.apache.org/xml-soap"
                  xmlns:wsdlsoap="http://schemas.xmlsoap.org/wsdl/soap/"
                  xmlns:soapenc="http://schemas.xmlsoap.org/soap/encoding/"
                  xmlns:xsd="http://www.w3.org/2001/XMLSchema"
                  xmlns:wsdl="http://schemas.xmlsoap.org/wsdl/" >
 <wsdl:documentation>
         Interface definition for the scheduler web service - unsure if really should be a web service.
 </wsdl:documentation>
 	<wsdl:import location="../schema/JesTypes.xsd" namespace="urn:jes/types/v1" />
 		<wsdl:import location="../schema/CEATypes.xsd" namespace="http://www.astrogrid.org/schema/CEATypes/v1" />
   <wsdl:types />
 
   <wsdl:message name="scheduleJobRequest">
      <wsdl:part name="request" type="types:jobURN"/>
   </wsdl:message>

   <wsdl:message name="resumeJobRequest">
	  <wsdl:part type="ceat:job-identifier-type" name="id" />
      <wsdl:part type="ceat:message-type" name="feedback"/>
   </wsdl:message>
   
   <wsdl:portType name="JobScheduler">
      <wsdl:operation name="scheduleNewJob" parameterOrder="request">
      	<wsdl:documentation>
      		call to schedule a new job
      	</wsdl:documentation>
         <wsdl:input name="scheduleJobRequest" message="scheduleJobRequest"/>
      </wsdl:operation>
      
      <wsdl:operation name="resumeJob" parameterOrder="id feedback">
      	<wsdl:documentation>
      		call to resume execution of a job, after tool completes.
      	</wsdl:documentation>
         <wsdl:input name="resumeJobRequest" message="resumeJobRequest"/>
      </wsdl:operation>      
   </wsdl:portType>
   
   
  
   <wsdl:binding name="JobSchedulerServiceSoapBinding" type="JobScheduler">
      <wsdlsoap:binding style="document" transport="http://schemas.xmlsoap.org/soap/http"/>
      <wsdl:operation name="scheduleNewJob">
         <wsdlsoap:operation soapAction="scheduleNewJob"/>
         <wsdl:input >
            <wsdlsoap:body use="literal" />
         </wsdl:input>
      </wsdl:operation>
      <wsdl:operation name="resumeJob">
      	<wsdlsoap:operation soapAction="resumeJob" />
      	<wsdl:input>
      		<wsdlsoap:body use="literal" />
      	</wsdl:input>
      </wsdl:operation>
   </wsdl:binding>

   <wsdl:service name="JobSchedulerService">
      <wsdl:port name="JobSchedulerService" binding="JobSchedulerServiceSoapBinding">
         <wsdlsoap:address location="http://localhost:8080/axis/services/JobSchedulerService"/>
      </wsdl:port>
   </wsdl:service>
</wsdl:definitions>
