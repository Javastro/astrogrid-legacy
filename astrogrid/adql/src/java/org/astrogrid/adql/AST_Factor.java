/* Generated By: AdqlStoX.jjt,v 1.33.2.4 2006-12-19 14&JJTree: Do not edit this line. AST_Factor.java */

package org.astrogrid.adql;

import org.astrogrid.adql.v1_0.beans.UnaryExprType;
import org.astrogrid.adql.v1_0.beans.UnaryOperatorType;
import org.astrogrid.adql.v1_0.beans.ScalarExpressionType;

public class AST_Factor extends SimpleNode {

    public AST_Factor(AdqlStoX p, int id) {
        super(p, id);
    }

    public void jjtClose() {
        int childCount = jjtGetNumChildren() ;
        UnaryExprType ueType = null ;
        ScalarExpressionType numericPrimary = null ;
        Object child = null ;
        for( int i=0; i<childCount; i++ ) {
            child = children[i].getGeneratedObject() ;
            if( child instanceof String ) {
                ueType = UnaryExprType.Factory.newInstance() ;
                ueType.setOper( UnaryOperatorType.Enum.forString( (String)child ) ) ;    
            }
            else {
                numericPrimary = (ScalarExpressionType)child ;  
            }
        }
        if( ueType != null ) {
            ueType.setArg( numericPrimary ) ;  
            setGeneratedObject( ueType ) ;
        }
        else {
            setGeneratedObject( numericPrimary ) ;
        }
    }
  
}
