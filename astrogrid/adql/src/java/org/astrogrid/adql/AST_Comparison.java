/* Generated By: AdqlStoX.jjt,v 1.33.2.4 2006-12-19 14&JJTree: Do not edit this line. AST_Comparison.java */

package org.astrogrid.adql;

import org.astrogrid.adql.v1_0.beans.ComparisonType ;
import org.apache.xmlbeans.XmlObject ;
import org.apache.commons.logging.Log ;
import org.apache.commons.logging.LogFactory ;

public class AST_Comparison extends SimpleNode {
    
    private static Log log = LogFactory.getLog( AST_Comparison.class ) ;
 
    public AST_Comparison(AdqlStoX p, int id) {
        super(p, id);
    }

    public void jjtClose() {
//        String image = firstToken.image ;
//        ComparisonType c = ComparisonType.Factory.newInstance() ;
//
//        //  
//        // The != comparison is a convenience. It is not a valid enum within
//        // the schema. So we substitute the official value instead...
//        if( parser.token.kind == AdqlStoXConstants.NOT_EQUALS_OPERATOR ) {
//            image = "<>" ;
//        }
//        if( log.isDebugEnabled() ) {
//            log.debug("comp: " + image ) ;
//        }
//        c.set( ComparisonType.Enum.forString( image ) ) ;  
//        this.setGeneratedObject( c ) ;

    }
    
    public void buildXmlTree( XmlObject xo ) {
        if( log.isTraceEnabled() ) enterTrace( log, "AST_Comparison.buildXmlTree()" ) ; 
        String image = firstToken.image ;
        ComparisonType c = (ComparisonType)xo.changeType( ComparisonType.type ) ;
        this.generatedObject = c ;
        //  
        // The != comparison is a convenience. It is not a valid enum within
        // the schema. So we substitute the official value instead...
        if( parser.token.kind == AdqlStoXConstants.NOT_EQUALS_OPERATOR ) {
            image = "<>" ;
        }
        if( log.isDebugEnabled() ) {
            log.debug("comp: " + image ) ;
        }
        c.set( ComparisonType.Enum.forString( image ) ) ;  
        super.buildXmlTree(xo) ;
        if( log.isTraceEnabled() ) enterTrace( log, "AST_Comparison.buildXmlTree()" ) ; 
    }

}
