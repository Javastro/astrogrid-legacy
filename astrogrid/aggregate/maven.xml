<?xml version="1.0"?>
<!-- extension maven script -->
<project xmlns:j="jelly:core" xmlns:maven="jelly:maven" xmlns:u="jelly:util" xmlns:deploy="deploy">

        <!--+
                | Custom astrogrid goals for nightly build
                | Override those in maven-base
                +-->
        <goal name="astrogrid-clean" prereqs="multiproject:clean"/>
        <goal name="astrogrid-deploy-site"
                prereqs="astrogrid-build-site,site:sshdeploy" />
        <goal name="astrogrid-build-site" prereqs="multiproject:site"/>

<goal name="setup-keystore">
        <!-- need to check whetehr its there...
          <genkey alias="astrogrid" storepass="qwertyuiop" validity="900">
                <dname>
                        <param name="CN" value="Astrogrid" />
                        <param name="O" value="Astrogrid Consortium" />
                        <param name="C" value="UK" />
                </dname>
          </genkey>
          -->
</goal>

<goal name="astrogrid-build-artifact" prereqs="setup-keystore">
<!-- reactor doesn't seem to want to work for me..  -->
        <maven:maven descriptor="${basedir}/cdk/core/project.xml"
                goals="astrogrid-build-artifact" ignoreFailures="false" />
</goal>

<goal name="astrogrid-build-snapshot"  prereqs="setup-keystore">
        <maven:maven descriptor="${basedir}/cdk/core/project.xml"
                goals="astrogrid-build-snapshot" ignoreFailures="false" />
</goal>


<goal name="astrogrid-install-snapshot"  prereqs="setup-keystore">
        <maven:maven descriptor="${basedir}/cdk/core/project.xml"
                goals="astrogrid-install-snapshot" ignoreFailures="false" />
</goal>


<goal name="astrogrid-install-artifact"  prereqs="setup-keystore">
        <maven:maven descriptor="${basedir}/cdk/core/project.xml"
                goals="astrogrid-install-artifact" ignoreFailures="false" />
</goal>


<goal name="astrogrid-deploy-snapshot"  prereqs="setup-keystore">
        <maven:maven descriptor="${basedir}/cdk/core/project.xml"
                goals="astrogrid-deploy-snapshot" ignoreFailures="false" />
</goal>

<goal name="astrogrid-deploy-artifact"  prereqs="setup-keystore">
        <maven:maven descriptor="${basedir}/cdk/core/project.xml"
                goals="astrogrid-deploy-artifact" ignoreFailures="false" />
</goal>



</project>
