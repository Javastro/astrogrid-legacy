<?xml version="1.0"?>
<!-- extension maven script -->
<project xmlns:j="jelly:core" xmlns:maven="jelly:maven" xmlns:ant="jelly:ant" xmlns:deploy="deploy">



<!-- parent project adds this hook now.. <postGoal name="dist:prepare-bin-filesystem"> -->
<goal name="packageit">
        <ant:delete file="${maven.dist.bin.assembly.dir}/astrogrid-scripting-rhino-SNAPSHOT.jar" />
        <deploy:copy-deps todir="${maven.dist.bin.assembly.dir}/lib" />
        <ant:copy todir="${maven.dist.bin.assembly.dir}">
                <fileset dir="${basedir}">
                        <include name="bin/**" />
                        <include name="js-lib/**" />
                        <include name="examples/**" />
                </fileset>
        </ant:copy>
</goal>

<!-- for my own use -->
<goal name="install-rhino">
        <ant:property name="install.dir" location="/home/noel/java/" />
        <ant:delete quiet="true">
                <fileset dir="${install.dir}/astrogrid-scripting-rhino-SNAPSHOT" />
        </ant:delete>
        <ant:unzip src="${basedir}/target/distributions/astrogrid-scripting-rhino-SNAPSHOT.zip" dest="${install.dir}" overwrite="true" />
        <ant:chmod dir="${install.dir}/astrogrid-scripting-rhino-SNAPSHOT/bin" perm="a+rx" includes="**/*" />
</goal>

</project>
