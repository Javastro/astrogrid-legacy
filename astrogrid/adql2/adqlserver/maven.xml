<?xml version="1.0" encoding="UTF-8"?>

<project
    xmlns:core="jelly:core"
    xmlns:maven="jelly:maven"
    xmlns:ant="jelly:ant"
    xmlns:util="jelly:util"
    xmlns:log="jelly:log"
    xmlns:define="jelly:define"
    xmlns:artifact="artifact" >
    
    <!-- ================ Reactor goals ================ -->

    <goal name="astrogrid-install-snapshot" prereqs="jar:install-snapshot"/>
    <goal name="astrogrid-install-artifact" prereqs="jar:install"/>
    <goal name="astrogrid-deploy-snapshot"  prereqs="jar:deploy-snapshot"/>
    <goal name="astrogrid-deploy-artifact"  prereqs="jar:deploy-artifact"/>
    <goal name="astrogrid-deploy-site"      prereqs="site:deploy"/>
    <goal name="astrogrid-build-site"       prereqs="site:site"/>
    <goal name="astrogrid-clean"            prereqs="clean"/>

	<!--+
	    | Tidy up after the java:compile task.
	    | (removes the Empty class)
	    +-->
	<postGoal name="java:compile">
		<ant:echo message=""/>
		<ant:echo message="Artifact : ${pom.artifactId}"/>
		<ant:echo message="Tidy up after java:compile."/>
		<ant:echo message="Deleting : ${maven.build.dir}/classes/AdqlParserSVTest.class"/>

		<!--+
	        | Remove the Test Class and contained classes...
	        +-->
		<delete>
    		<fileset dir="${maven.build.dir}/classes/" includes="**/AdqlParserSVTest*.class"/>
  		</delete>
	</postGoal>


</project>
