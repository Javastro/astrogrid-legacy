<?xml version="1.0" encoding="UTF-8"?>
<project xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" >

    <extend>${basedir}/../build/project-template.xml</extend>
        <artifactId>plastic-hub</artifactId>
        <name>PLASTIC Hub</name>
        <description>
		PLASTIC Hub - binds applications together
	</description>
        <shortDescription>	PLASTIC Hub - binds applications together</shortDescription>
        <build>
        		<!--  list of unit tests applicable to this packaging of AR -->
     	<unitTest>
     	<includes>
     		<include>**/system/**/All*IntegrationTests.java</include>
     		<include>**/system/**/All*UnitTests.java</include>
     		<include>**/plastic/AllPlasticIntegrationTests.java</include>
     		<include>**/plastic/AllPlasticUnitTests.java</include>
     		
       		<include>**/alternatives/AllAlternativesUnitTests.java</include>
       		<include>**/alternatives/AllAlternativesIntegrationTests.java</include>
       
       		<include>**/acr/AllAcrIntegrationTests.java</include>
       		<include>**/acr/AllAcrUnitTests.java</include>
       		
       		<include>**/framework/AllFrameworkIntegrationTests.java</include>
       		<include>**/framework/AllFrameworkUnitTests.java</include>
       		
       		<include>**/hivemind/AllHivemindUnitTests.java</include>
       		<include>**/hivemind/AllHivemindIntegrationTests.java</include>
       		
        	<include>org/astrogrid/*UnitTest.java</include>        	
        	<include>org/astrogrid/*IntegrationTest.java</include>
        			        	
        	<include>**/classpath/*UnitTest.java</include>        	
        	<include>**/classpath/*IntegrationTest.java</include>    
     	</includes>
                        <resources>
                                <resource>
                                        <directory>${basedir}/../test/java</directory>
                                        <includes>
                                                <include>**/*.properties</include>
                                                <include>**/*.xml</include>
                                                <include>**/*.xsl</include>
                                                <include>**/*.dtd</include>
                                                <include>**/*.xsd</include>
                                                <include>**/*.vot</include>
                                        </includes>
                                </resource>								
                        </resources>		        		
        	</unitTest>  			

                <!-- modifications to compile the hub portion only -->
                <sourceModifications>
                  <sourceModification>
                    <className>always</className>
                    <includes>
                    	<include>org/astrogrid/Plastic*.java</include>
                    	<include>org/astrogrid/*UnitTest.java</include>
                    	<include>org/astrogrid/*IntegrationTest.java</include>
                    	
                    	<include>org/astrogrid/acr/AllAcrIntegrationTests.java</include>
                    	<include>org/astrogrid/acr/AllAcrUnitTests.java</include>
                    	
                    	<include>org/astrogrid/desktop/BuildInprocess*.java</include>
                    	<include>**/alternatives/*.java</include>
                    	<include>**/framework/*.java</include>
                    	<include>**/hivemind/**</include>
                    	
                    	<include>**/modules/system/**</include>
                    	<include>**/modules/plastic/**</include>
                    	<include>**/modules/test/**</include>
                    	
                    	<include>**/protocol/classpath/**</include>
                    	<include>**/protocol/fallback/**</include>
                    </includes>
                    <excludes>
						  <!--   test classes we can't compile or don't want -->
                      <exclude>**/*SystemTest.java</exclude>
                      <exclude>**/*TransportTest.java</exclude>
                  	</excludes>
                  	
                  </sourceModification>
               	</sourceModifications>
                <resources>
                        <resource>
                                <directory>${basedir}/../src/java</directory>
                                <!-- todo: trim these more -->
                                <includes>
                                        <include>**/hivemind/*.xml</include>
                                        <include>**/hivedoc/*.*</include>
                                        <include>default-log4j.properties</include>                                        
                                        <include>org/astrogrid/desktop/icons/*.png</include>
          								<include>org/astrogrid/desktop/icons/*.gif</include>
                                        <include>org/astrogrid/desktop/modules/system/transformers/*.xsl</include>
                                        <include>org/astrogrid/plastic-splash.gif</include>
                                </includes>
                        </resource>
                </resources>
        </build>


        <dependencies>
        <!-- only requires those that are in template project -->
        
        <!--  only required during build -->
     <dependency>
      <artifactId>junit</artifactId>
      <groupId>junit</groupId>
      <version>3.8</version>
    </dependency>
   </dependencies>

</project>
