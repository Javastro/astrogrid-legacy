<?xml version="1.0" encoding="UTF-8"?>
<project xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" >

    <extend>${basedir}/../../../aggregate/cdk/workflow/project.xml</extend>
        <artifactId>asr</artifactId>
        <currentVersion>${astrogrid.desktop.version}</currentVersion>
        <name>Astro Runtime (Server version)</name>
        <description>
	 Astro Runtime - server version
	</description>
        <shortDescription>Astro Server Runtime</shortDescription>
 
        <build>
                <sourceDirectory>${basedir}/../src/java</sourceDirectory>
                <!-- modifications to compile the hub portion -->
                <sourceModifications>
                  <sourceModification>
                    <className>${ifBuildingASR}</className>
                    <excludes>
                      <exclude>org/astrogrid/desktop/*.java</exclude>
                      <exclude>org/astrogrid/desktop/modules/ui/**</exclude>
                      <exclude>org/astrogrid/desktop/modules/system/HelpServerImpl.java</exclude>
                      <exclude>org/astrogrid/desktop/modules/system/SwingSetup.java</exclude>
                      <exclude>org/astrogrid/desktop/modules/system/UIImpl.java</exclude>
                      <exclude>org/astrogrid/desktop/modules/system/BrowserLauncherBrowserControl.java</exclude>
                      <exclude>org/astrogrid/desktop/modules/ag/LoginDialogue.java</exclude>
                      <exclude>org/astrogrid/desktop/modules/dialogs/**</exclude>
                      <exclude>org/astrogrid/desktop/modules/adqlEditor/**</exclude>
                      <exclude>org/astrogrid/desktop/modules/workflowBuilder/**</exclude>
                      <!-- keep this out - as unfinished, and drags in all xbean stuff -->
                      <exclude>org/astrogrid/desktop/modules/ivoa/SkyNodeImpl.java</exclude>
                  	</excludes>
                  	
                  </sourceModification>
               	</sourceModifications>
                <resources>
                        <resource>
                                <directory>${basedir}/../src/java</directory>
                                <includes>
                                        <include>**/hivemind/*.xml</include>
                                        <include>astrogrid.properties</include>
                                        <include>org/astrogrid/desktop/modules/system/transformers/*.xsl</include>
                                </includes>
                        </resource>
                        <resource>
                        	<directory>${basedir}/resources</directory>
                        	<includes>
                        		<include>*.properties</include>
                        	</includes>
                        </resource>
                </resources>
        </build>

        <dependencies>



<!-- public interfaces of the acr -->
	<dependency>
		<groupId>org.astrogrid</groupId>
		<artifactId>acr-interface</artifactId>
		<version>${astrogrid.desktop.version}</version>
		<properties>
			<jnlp.jar>true</jnlp.jar>
			<dist.bundle>true</dist.bundle>			
		</properties>
	</dependency>

  <dependency>
		<groupId>votech-ds6</groupId>
                        <artifactId>plastic</artifactId>
		<version>0.4.1</version>
                        <url>http://plastic.sourceforge.net</url>
		<properties>
			<jnlp.jar>true</jnlp.jar>
			<dist.bundle>true</dist.bundle>			
		</properties>						
   </dependency>		
	
	<!-- leave the ag security lib inline for now, until things stabilize -->
        	
        	<dependency>
        		<groupId>org.astrogrid</groupId>
        		<artifactId>astrogrid-security</artifactId>
        		<version>${astrogrid.security.version}</version>
        		<type>jar</type>
	 	<properties>
 			<jnlp.jar>true</jnlp.jar>
 			<dist.bundle>true</dist.bundle>
 		</properties>        		
        	</dependency>
        		

<!-- cea server - jnlp extension -->
	        <dependency>
                <groupId>org.astrogrid</groupId>
                <artifactId>astrogrid-cea-server</artifactId>
                <version>${astrogrid.applications.version}</version>
                <properties>
                <!-- defined in an extension , but inserted by 
                stylesheet - so we can munge path for alpha, etc -->
				    <dist.bundle>true</dist.bundle>		    
                </properties>
        </dependency>
    <dependency>
      <artifactId>junit</artifactId>
      <groupId>junit</groupId>
      <version>3.8</version>
      <properties>
		    <dist.bundle>true</dist.bundle>		    
      </properties>
    </dependency>
 
  
  <!-- storage - jnlp extension -->
<dependency>
	<artifactId>jdbm</artifactId>
	<groupId>jdbm</groupId>
	<version>1.0</version>
	<properties>
		<jnlp.extension.site>software.astrogrid.org</jnlp.extension.site>
		<jnlp.extension.dir>/jnlp/file</jnlp.extension.dir>
		<jnlp.extension.jnlp>file.jnlp</jnlp.extension.jnlp>			
		<dist.bundle>true</dist.bundle>			
	</properties>
</dependency>

 <!-- jakarta commons - jnlp extension -->
       <dependency>
                <artifactId>commons-collections</artifactId>            
                <groupId>commons-collections</groupId>          
                <version>3.1</version>          
                <url>http://jakarta.apache.org/commons/</url>           
                <properties>       
			<jnlp.extension.site>software.astrogrid.org</jnlp.extension.site>
			<jnlp.extension.dir>/jnlp/jakarta-commons</jnlp.extension.dir>
			<jnlp.extension.jnlp>jakarta-commons.jnlp</jnlp.extension.jnlp>                             
                        <dist.bundle>true</dist.bundle>
                </properties>
    </dependency> 
  
 <dependency>
	 <artifactId>commons-beanutils</artifactId>
	 <groupId>commons-beanutils</groupId>
	 <version>1.6</version>
	 <type>jar</type>
	 <properties>		 
		 <dist.bundle>true</dist.bundle>
	 </properties>		 
 </dependency>
 
 <dependency>
	 <artifactId>commons-lang</artifactId>
	 <groupId>commons-lang</groupId>
	 <version>2.0</version>
	 <type>jar</type>
	 <properties>		 
		 <dist.bundle>true</dist.bundle>
	 </properties>		 
        </dependency>  
        
	  <dependency>
	  	<artifactId>commons-cli</artifactId>
	  	<groupId>commons-cli</groupId>
	  	<version>1.0</version>
	  	<properties>			
		<dist.bundle>true</dist.bundle>			
	  	</properties>
	  </dependency>

<!-- container system - hivemind     -->

<dependency>
	<groupId>hivemind</groupId>
	<artifactId>hivemind</artifactId>
	<version>1.1.1</version>
	<properties>
		<jnlp.extension.site>software.astrogrid.org</jnlp.extension.site>
		<jnlp.extension.dir>/jnlp/jakarta-hivemind</jnlp.extension.dir>
		<jnlp.extension.jnlp>jakarta-hivemind.jnlp</jnlp.extension.jnlp>			
		<dist.bundle>true</dist.bundle>	
	</properties>
</dependency>
<dependency>
	<groupId>hivemind</groupId>
	<artifactId>hivemind-lib</artifactId>
	<version>1.1.1</version>
	<properties>
		<dist.bundle>true</dist.bundle>
	</properties>	
</dependency>

<dependency>
	<groupId>javassist</groupId>
	<artifactId>javassist</artifactId>
	<version>3.0</version>
	<properties>
		<dist.bundle>true</dist.bundle>
	</properties>
</dependency>
 <dependency>
	 <id>oro</id>
	 <version>2.0.7</version>
	 <properties>
		 <dist.bundle>true</dist.bundle>
	 </properties>	 
 </dependency>
 
 <!-- jetty webserver -->
 <dependency> 
	 <groupId>jetty</groupId>
	 <artifactId>org.mortbay.jetty</artifactId>
	 <version>5.1.2</version>
	 <type>jar</type>
	 <properties>
		 <jnlp.extension.site>software.astrogrid.org</jnlp.extension.site>
		 <jnlp.extension.dir>/jnlp/jetty</jnlp.extension.dir>
		 <jnlp.extension.jnlp>jetty.jnlp</jnlp.extension.jnlp>
		 <dist.bundle>true</dist.bundle>
	 </properties>
 </dependency>
 <dependency>
	 <artifactId>servletapi</artifactId>
	 <groupId>servletapi</groupId>
	 <version>2.3</version>	
	 <properties>
		 <dist.bundle>true</dist.bundle>
	 </properties>	 
    </dependency>
    
    <dependency>
	    <artifactId>rmi-lite</artifactId>
	    <groupId>rmilite</groupId>
	    <version>1.0</version>
	    <properties>
		    <dist.bundle>true</dist.bundle>		
	    </properties>
</dependency> 
<dependency> 
	<groupId>xmlrpc</groupId>
	<artifactId>xmlrpc</artifactId>
	<version>1.2-b1</version>
	<type>jar</type>
	<properties>
		<dist.bundle>true</dist.bundle>			
	</properties>
</dependency>
<!-- end of jetty servers -->

 <!-- concurrent stuff-->
   <dependency>
        <groupId>l2fprod</groupId>
        <artifactId>l2fprod-common-all</artifactId>
        <version>6.2</version> 
	<properties>
		 <jnlp.extension.site>software.astrogrid.org</jnlp.extension.site>
		 <jnlp.extension.dir>/jnlp/gui-basics</jnlp.extension.dir>
		 <jnlp.extension.jnlp>gui-basics.jnlp</jnlp.extension.jnlp>	
		<dist.bundle>${ifBuildingASR.getValue() != 'true'}</dist.bundle>
		<uberjar.bundle>${ifBuildingASR.getValue() != 'true'}</uberjar.bundle>
	 </properties>	 	
    </dependency>    
    <dependency>
	    <artifactId>concurrent</artifactId>
	    <groupId>concurrent</groupId>
	    <version>1.3.4</version>
	    <properties>
	    	<!-- add this aftrer the main javaapp process, as a work-around for package capitalization -->
			<nww.bundle.later>true</nww.bundle.later>
		    <uberjar.bundle>false</uberjar.bundle>		    
		    <dist.bundle>true</dist.bundle>
	 </properties>	 	    
 </dependency>    
<!-- security -->
 <!-- Dependencies introduced by use of MyProxy. -->
 <dependency>
 	<groupId>globus</groupId>
 	<artifactId>cog-jglobus</artifactId>
 	<version>1.2</version>
 	<type>jar</type>
 	<properties>
		 <jnlp.extension.site>software.astrogrid.org</jnlp.extension.site>
		 <jnlp.extension.dir>/jnlp/security</jnlp.extension.dir>
		 <jnlp.extension.jnlp>security.jnlp</jnlp.extension.jnlp> 	
 		<dist.bundle>true</dist.bundle>
 	</properties>
 </dependency>
 
 <dependency>
 	<groupId>globus</groupId>
 	<artifactId>cog-jgss</artifactId>
 	<version>1.2</version>
 	<type>jar</type>
 	<properties>
 		<dist.bundle>true</dist.bundle>
 	</properties>
 </dependency>

 <dependency>
 	<groupId>globus</groupId>
 	<artifactId>cog-puretls</artifactId>
 	<version>1.2</version>
 	<type>jar</type>
 	<properties>
	    	<!-- add this aftrer the main javaapp process, as a work-around for package capitalization -->
			<nww.bundle.later>true</nww.bundle.later>
		    <uberjar.bundle>false</uberjar.bundle>		  	
 		<dist.bundle>true</dist.bundle>
 	</properties> 	
 </dependency>

 <dependency>
   <groupId>globus</groupId>
   <artifactId>cog-cryptix</artifactId>
   <version>1.2</version>
   <type>jar</type>
 	<properties>
 		<dist.bundle>true</dist.bundle>
 	</properties>   
 </dependency>
       
        	<dependency>
        		<groupId>globus</groupId>
        		<artifactId>cog-cryptix32</artifactId>
        		<version>1.2</version>
        		<type>jar</type>
 	<properties>
 		<dist.bundle>true</dist.bundle>
 	</properties>        		
        	</dependency>
        	
        	<dependency>
        		<groupId>globus</groupId>
        		<artifactId>cog-cryptix-asn1</artifactId>
        		<version>1.2</version>
        		<type>jar</type>
 	<properties>
 		<dist.bundle>true</dist.bundle>
 	</properties>        		
        	</dependency>
     	<!-- dependencies for signatures -->
        	<dependency>
        		<groupId>xmlsec</groupId>
        		<artifactId>xmlsec</artifactId>
        		<version>1.3.0</version>
        		<type>jar</type>
 	          <properties>
 		          <dist.bundle>true</dist.bundle>
 	          </properties>        		
        	</dependency>
    <!-- crypto provider that myproxy client requires -->
        	<dependency>
        		<groupId>bouncycastle</groupId>
        		<artifactId>bcprov-jdk14</artifactId>
        		<version>129</version>
        		<type>jar</type>
 	<properties>
		 <jnlp.extension.site>software.astrogrid.org</jnlp.extension.site>
		 <jnlp.extension.dir>/jnlp/bouncycastle</jnlp.extension.dir>
		 <jnlp.extension.jnlp>bouncycastle.jnlp</jnlp.extension.jnlp> 	
 		<dist.bundle>true</dist.bundle>
 	</properties>        		
        	</dependency>

   
 
  <!-- JDIC components - a bit tricky, because of binary nature.. 
-->
 <dependency>
	 <artifactId>jdic</artifactId>
	 <groupId>jdic</groupId>
	 <version>0.9.1</version>
	 <properties>
		 <jnlp.extension.site>software.astrogrid.org</jnlp.extension.site>
		 <jnlp.extension.dir>/jnlp/desktop-integration</jnlp.extension.dir>
		 <jnlp.extension.jnlp>desktop-integration.jnlp</jnlp.extension.jnlp>
		 <dist.bundle>true</dist.bundle>
		 <uberjar.bundle>${isBuildingWorkbench.getValue() == 'true'}</uberjar.bundle>
	 </properties>
 </dependency>
 <!--NB: comment out following two when generating dependencies on macosx -->
 <!--
 <dependency>
	 <artifactId>jdic_stub_${ag.os.name}</artifactId>
	 <groupId>jdic</groupId>
	 <version>0.9.1</version>
	 <properties>
		 <dist.bundle>true</dist.bundle>
		 <uberjar.bundle>${isBuildingWorkbench.getValue() == 'true'}</uberjar.bundle>
	 </properties>	 
 </dependency>
-->  
<!-- NB - this is the jar of native libs, that needs to be locally installed. 
      not a real dependency as such - and not needed for development
      -->
 <!--<dependency>
	 <artifactId>jdic_native_${ag.os.name}_${ag.os.arch}</artifactId>
	 <groupId>jdic</groupId>
	 <version>0.9.1</version>
	 <properties>
		 <dist.bundle>true</dist.bundle>
		 <uberjar.bundle>${isBuildingWorkbench.getValue() == 'true'}</uberjar.bundle>
	 </properties>	 
 </dependency>
--> 
<!-- end of jdic -->
  

<!-- used within development only -->

                <!-- plugins -->
    	         <dependency>
		            <groupId>maven-plugins</groupId>
		            <artifactId>maven-javaapp-plugin</artifactId>
		            <version>1.3.1 	</version>
		            <type>plugin</type>		
		            <properties>
		            	<uberjar.bundle>false</uberjar.bundle>
		            </properties>
		        </dependency> 	
    	       
 <dependency>
      <groupId>commons-jelly</groupId>
      <artifactId>commons-jelly-tags-jsl</artifactId>
      <version>20030211.143151</version>
		            <properties>
		            	<uberjar.bundle>false</uberjar.bundle>
		            </properties>      
    </dependency>
    <dependency>
      <groupId>commons-jelly</groupId>
      <artifactId>commons-jelly-tags-xml</artifactId>
      <version>20030211.142705</version>
      <url>http://jakarta.apache.org/commons/jelly/libs/xml/</url>
		            <properties>
		            	<uberjar.bundle>false</uberjar.bundle>
		            </properties>      
    </dependency>
		        
    </dependencies>
</project>
