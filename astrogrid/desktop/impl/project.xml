<?xml version="1.0" encoding="UTF-8"?>
<project xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" > 
    <extend>${basedir}/acr/project.xml</extend>
        <artifactId>workbench</artifactId>
        <currentVersion>${astrogrid.desktop.version}</currentVersion>
        <name>Workbench</name>
        <description>
	  This project builds and packages the entire workbench sourcebase, and also contains goals to test and produce reports.
	  ---
	  The subprojects hub, asr, acr build and package controlled subsets of the workbench sources  - these are use to create the cut-down versions of the workbench. No testing or reporting is done in those projects.
	  ---
	  Testing - run the goals unit-tests, integration-tests or system-tests, etc to exercise the workbench
	  using different levels of testing
	</description>
	<shortDescription>Workbench - Explore the Virtual Observatory</shortDescription>
  <packageGroups>
    <packageGroup>
      <title>ACR Framework</title>
      <packages>org.astrogrid.desktop.framework*:org.astrogrid.desktop:org.astrogrid.acr.builtin</packages>
    </packageGroup>
    <packageGroup>
      <title>System Module</title>
      <packages>org.astrogrid.desktop.modules.system*</packages>
    </packageGroup>
    <packageGroup>
      <title>VO Modules</title>
      <packages>org.astrogrid.desktop.modules.ag*:org.astrogrid.desktop.modules.cds*:org.astrogrid.desktop.modules.ivoa*</packages>
    </packageGroup>
    <packageGroup>
      <title>UI Modules</title>
      <packages>org.astrogrid.desktop.modules.dialogs*:org.astrogrid.desktop.modules.ui:org.astrogrid.desktop.icons:org.astrogrid.desktop.modules.workflowBuilder*</packages>
    </packageGroup>
  </packageGroups>	
        <build>
                <sourceDirectory>src/java</sourceDirectory>
                <unitTestSourceDirectory>test/java</unitTestSourceDirectory>
                <unitTest>
                <!--  explicitly disable tests here - by using a pattern that will match nothing.
                		then later, we define our own set of tests to run.
                 -->
                        <includes>	
                        	<include>matches-nothing</include>							
                        </includes>
                        
			<excludes>
				<!--  needed? -->
			</excludes>
			
                        <resources>
                                <resource>
                                        <directory>${basedir}/test/java</directory>
                                        <includes>
                                                <include>**/*.properties</include>
                                                <include>**/*.xml</include>
                                                <include>**/*.dtd</include>
                                                <include>**/*.xsd</include>
                                        </includes>
                                </resource>								
                        </resources>
                </unitTest>
                <resources>
                        <resource>
                        	<directory>${basedir}/src/java</directory>
                        	<includes>
                        		<include>*.properties</include>
                        		<include>*.hs</include>
                        		<include>**/*.xml</include>
                        		<include>**/*.png</include>
                        		<include>**/*.html</include>
                        		<include>**/*.xsl</include>
                        		<include>**/*.gif</include> 
                        		<include>**/*.dtd</include>
                                <include>**/*.xsd</include>                        		
                        	</includes>
                        </resource>

                </resources>
        </build>

		<!--  - definin small set of reports to place in distro.
			as don't want to run all tests, etc, etc. when generating a project site.
			 -->
		<reports>
			<report>maven-changes-plugin</report>
        <report>maven-javadoc-plugin</report>		
        <report>maven-jxr-plugin</report>
        <report>maven-license-plugin</report>        	
		</reports>

        <dependencies>
<!-- help set for workbench -->

	<dependency>
		<groupId>org.astrogrid</groupId>
		<artifactId>workbench-userdocs-javahelp</artifactId>
		<version>${astrogrid.desktop.version}</version>
		<properties>		
			<dist.bundle>true</dist.bundle>
			<strip>false</strip>	
		</properties>
	</dependency>


  <!-- libraries needed for workbench gui -->
 <dependency>
	 <groupId>prefuse</groupId>
	 <artifactId>prefuse</artifactId>
	 <version>1.0-alpha</version>
	 <type>jar</type>
	 <properties>
		 <dist.bundle>true</dist.bundle>		
		 <strip>${strip.prefuse}</strip>  
	 </properties>
 </dependency>
 
<dependency>
	<artifactId>jcalendar</artifactId>
	<groupId>flib</groupId>
	<version>1.1.1</version>
	<properties>		
		<dist.bundle>true</dist.bundle>
			    <strip>true</strip>    	                  
	</properties>
</dependency>  	
	
	<!-- groovy -->
	<dependency>
	 <groupId>groovy</groupId>
	 <artifactId>groovy-all</artifactId>
	 <version>1.0-jsr-06</version>
	 <type>jar</type>
	 <properties>
		 <dist.bundle>true</dist.bundle>
		 		    <strip>true</strip>    
	 </properties>
    </dependency>
    
 <!-- vospec as plugin -on the way out now we're plasticy. -->
 	<dependency>
 		<groupId>esavo</groupId>
		<artifactId>vospec</artifactId>
		<version>1.1</version>
		  <properties>
		 <dist.bundle>false</dist.bundle>
	 </properties>
	</dependency>   

<!-- used within development only -->
    <!-- Mark Taylor's plaskit, for testing only -->
     <dependency>
      <artifactId>plastic</artifactId>
      <groupId>starlink</groupId>
      <version>20060808-unsigned</version>
      <url>http://www.star.bris.ac.uk/~mbt/plastic</url>
		<properties>
			<uberjar.bundle>false</uberjar.bundle>
		</properties>
    </dependency>

<!-- code to unit test xml -->
    <dependency>
      <id>xmlunit</id>
      <version>1.0</version>
    </dependency>		
    
    <dependency><!-- proper static analysis of code problems -->
    	<artifactId>maven-findbugs-plugin</artifactId>
    	<groupId>maven-plugins</groupId>
    	<version>1.2</version>
    	<type>plugin</type>
           	            <properties>
		            		<uberjar.bundle>false</uberjar.bundle>
		            	</properties>     	
    </dependency>

 <!-- mocks for testing -->
 	<dependency>
 		<groupId>easymock</groupId>
 		<artifactId>easymock</artifactId>
 		<version>1.2</version>
 		<url>http://www.easymock.org/</url>
           	            <properties>
		            		<uberjar.bundle>false</uberjar.bundle>
		            	</properties>  		
 	</dependency>
 	
 <!-- swing testing - todo verify whether this is actually useful. -->
 <dependency>
 	<groupId>uispec4j</groupId>
 	<artifactId>uispec4j</artifactId>
 	<version>1.1</version>
 	<url>http://www.uispec4j.org/</url>
           	            <properties>
		            		<uberjar.bundle>false</uberjar.bundle>
		            	</properties>  	
 </dependency>
 
<!-- testing html interface  - only used a little -->
 <dependency>
                        <groupId>httpunit</groupId>
                        <artifactId>httpunit</artifactId>
                        <version>1.5.4</version>
                        <url>http://httpunit.sourceforge.net/</url>
		            <properties>
		            	<uberjar.bundle>false</uberjar.bundle>
		            </properties>                         
                </dependency>
                <dependency>
                        <groupId>jwebunit</groupId>
                        <artifactId>jwebunit</artifactId>
                        <version>1.2</version>
                        <url>http://jwebunit.sourceforge.net/</url>
                        <properties>
		            		<uberjar.bundle>false</uberjar.bundle>
		            	</properties> 
                </dependency>
                <dependency>
                        <groupId>rhino</groupId>
                        <artifactId>js</artifactId>
                        <version>1.5R4.1</version>
           	            <properties>
		            		<uberjar.bundle>false</uberjar.bundle>
		            	</properties> 
                </dependency>
                <dependency>
                        <groupId>nekohtml</groupId>
                        <artifactId>nekohtml</artifactId>
                        <version>0.8.1</version>
                        <url>http://www.apache.org/~andyc/neko/doc/html/</url>
       		            <properties>
		        	    	<uberjar.bundle>false</uberjar.bundle>
		   		         </properties> 
                </dependency>

	
    </dependencies>
</project>
