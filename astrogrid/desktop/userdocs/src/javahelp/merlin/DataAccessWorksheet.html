<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head>
<link rel="stylesheet" href="DataAccessWorksheet_files/astrodoc.css"><title>AstroGrid Data Access Worksheet</title></head>

<body>

<!-- 
THIS IS A COMMENT.  It doesn't show up in the rendered page, but 
people can still see it if they use "view source" on the displayed 
page (so not a good place to store your credit card details).  
-->

<!-- Leave this div here -->
<div id="banner">&nbsp;</div>

<!-- Put your content inside this div -->
<div id="content">

<h1>AstroGrid Data Access Worksheet</h1>


<p>
This is a step by step worksheet that demonstrates some ways to
retrieve and visualise astronomical images, spectra and catalogue data using AstroGrid.
</p>

<p>
To access AstroGrid services, launch the Workbench by clicking 
<a href="http://software.astrogrid.org/jnlp/astrogrid-desktop/astrogrid-desktop.jnlp">here</a>
(NB: the Workbench is launched using Java webstart, therefore you will
need the Java Runtime Environment installed on your computer).
</p>

<p>
Answer 'Yes' or 'Start' at security warnings.
</p>


<h2>AstroScope</h2>

<h3>Acquiring data</h3>
<p>
AstroScope is an AstroGrid tool that allows you to query archives
of images, spectra and catalogue data around a given position or SIMBAD object,
 visualise the results and download data files
either to your local machine or to your storage space on the Astrogrid
system, called MySpace.

</p>

<p>
In the Workbench main panel, click on AstroScope. Full instructions
are given by <a href="http://www.merlin.ac.uk/astrogrid/AstroScope/AstroScope.html">AstroScope
Help</a>. For example, enter the symbiotic star HM Sge as the Object and a
Region (search radius, decimal degrees) of 0.1.  Select some data by
clicking to open up an entry and then double-clicking - e.g. a couple
of HST images, a radio catalogue and one each IUE and ISO spectra
Click on the Save icon, and log in to MySpace.  Then select or create
a suitable subdirectory (see <a href="http://www.merlin.ac.uk/astrogrid/MySpace/MySpace.html">MySpace
Help</a> for details) and click OK.
</p>
<p>

<a href="http://www.merlin.ac.uk/astrogrid/DataAccessWorksheet/AstroScopeSave.png"> <img src="DataAccessWorksheet_files/AstroScopeSave.png" alt="AstroScopeSave.png"> </a>
</p>
<p>
You can check when the data have been  downloaded by launching the MySpace
browser from the workbench. 

</p>
<h3>Visualising data</h3>
<p>
You can download data to your desktop or copy URLs to any suitable
viewer.  AstroGrid also provides direct links to data visualisation
and manipulation tools.  At present (April 2006) these can be accessed
directly via the workbench but the instructions below refer in some
cases to recent versions which have not yet been fully integrated.
You need to run the Workbench and the relevant application(s) at the
same time for full interoperability in visualisation.
</p>
<h4> Images</h4>
<p>
A prototype version of <a href="http://aladin.u-strasbg.fr/">Aladin</a> can see MySpace
directly.  Use the <b>Aladin V3.6</b> link and download or webstart
the <b>Prototype</b>.  Click on PLASTIC in the Aladin window and
Register with hub (this takes a few seconds).  The Aladin logo will
then appear in AstroScope.  If you click on the icon any selected
images will be automatically loaded.  You can also use the Aladin LOAD
window to get data already in MySpace.
</p>
<p>

<a href="http://www.merlin.ac.uk/astrogrid/DataAccessWorksheet/Aladin2.png"> <img src="DataAccessWorksheet_files/Aladin2.png" alt="Aladin2.png"> </a>

</p>
<h4> Spectra</h4>
<p>
Click on the VOSpec icon in AstroScope and the spectra will be
displayed.  You can do some basic manipulations such as change units, fit
a black body, and save the spectra to your local disc.
</p>
<p>

<a href="http://www.merlin.ac.uk/astrogrid/DataAccessWorksheet/hmsge.png"> <img src="DataAccessWorksheet_files/hmsge.png" alt="hmsge.png"> </a>
</p>
<p>IUE and
ISO spectra displayed in VOSpec ovelaid with images created in Aladin
after using the MERLIN Imager.

</p>
<h4>Tables</h4>
<p>
Virtual observatories and many other applications exchange tabular
data in
<a href="http://cdsweb.u-strasbg.fr/doc/VOTable/">VOTable</a> format.
This can include lists of images with their URLs or simple spectra as
well as lists of e.g. sources and properties.  Aladin and VOSpec,
described above, use VOTables and <a href="http://www.starlink.ac.uk/topcat">TopCat</a> is a dedicated tool
which lets you browse and plot tables, add new columns (including
coordinate conversions) and exchange data with Aladin and any other
tool which can see MySpace.  The <a href="ftp://andromeda.star.bris.ac.uk/pub/star/topcat/v2.0+/topcat-full.jar">latest
version</a> can be downloaded and started using <br><tt>
java -jar topcat-full.jar 
</tt>
and automatically registers itself with Plastic <em>if you have the
Workbench running</em>

</p>
<p>
You can then load tables from MySpace by clicking on 
</p><pre>File 
  Load Table
    Filestore Browser
      Location MySpace
        Log in
</pre>
Warning: at present, it is slow to open and navigate in MySpace but
this does not affect loading the data once it has been located.  

<p>
<a href="http://www.merlin.ac.uk/astrogrid/DataAccessWorksheet/Topcat1.png"> <img src="DataAccessWorksheet_files/Topcat1.png" alt="Topcat1.png"> </a>
</p>
<p>
If you view the same table in Aladin and TopCat, a source selected in
one application will be highlighted in the other. 

</p>
<h2>Data provider applications</h2>

<h3>Using the Application Launcher</h3> 
<h4>Multiple selection criteria</h4>
<p>
The Astronomers' Data Query Language (ADQL) lets you select the
columns you want within chosen ranges.
If you select the <a href="http://www.merlin.ac.uk/astrogrid/ApplicationLauncher/ApplicationLauncher.html">Application
Launcher</a> from the workbench, you can search for a data set, e.g.
"FIRST and object and catalogue" (Faint Images if the Radio Sky at
Twentyone cm, see <a href="http://www.merlin.ac.uk/astrogrid/RegistryBrowser/RegistryBrowser.html">Registry Browser
help</a>). If you get back a service which supports ADQL, you can build a
query constraining any parameters in the catalogue.  Click the
tick-box on the left and a <a href="http://www.merlin.ac.uk/astrogrid/QueryBuilder/QueryBuilder.html">Query Builder box </a> will
appear. You can use the GUI Tree or enter SQL directly under the
Adql/s tab.  The following is an example: </p><pre> 
SELECT * FROM catalogue AS T1 WHERE 
 T1.POS_EQ_RA &gt; 186 AND T1.POS_EQ_RA &lt; 188 
 AND T1.POS_EQ_DEC &gt; 1 AND T1.POS_EQ_DEC &lt; 3  
 AND T1.EXTENSION_FWHM_MAJ &gt; 0.0 
</pre> which is then expanded
into the Tree and also translated into Adql/x for sending to the data
centre.

<p>
<a href="http://www.merlin.ac.uk/astrogrid/DataAccessWorksheet/Qbuilder.png"> <img src="DataAccessWorksheet_files/Qbuilder.png" alt="Qbuilder.png"> </a>
</p>
<p> Once you have finished the query using the Parameter button to
select the file you want to save the results in in MySpace.  Finally,
click the green button to launch the query.  You should be able to
monitor progress in the Lookout and view the results e.g. in TopCat or
Aladin.
</p>

<h4>Cone Search and Simple Image/Spectral Access</h4>
<p>
You may see one of these services offered for your chosen dataset.

The simplest type of query takes a position and a search radius and
returns all the catalogue objects within that radius, or the images or
spectra with reference positions inside the radius. This is the way
that AstroScope works.  Some Simple Image Access Protocol (SIAP)
services also recognise any overlap with the field of view and other
constraints. If you select a data set offering Cone or SIAP/SSAP
access, a box will pop up asking for the position and radius (J2000,
decimal degrees).  You also need to use the Parameter button (see
above) if you want to save the results to MySpace.  SIAP will return a
VOTable of the URLs of images and a brief description.
</p>

<h4>On-the-Fly data extraction</h4>
<p> Some data centres offer custom-made data products.  For example,
the MERLIN Imager produces an image to your specifications (or the
nearest possible values of size and resolution) from radio
interferometry data.  Search for "MERLIN and Imager" in the
Application Launcher.  Fill in either the position or the object name
and, optionally, other criteria, and the destination of the Output.
At present only MERLIN names are recognised but you can check what
sources have been observed by browsing the <a href="http://www.merlin.ac.uk/archive/archive_form.html">MERLIN
Processed Data archive</a>
</p>
<p>
<a href="http://www.merlin.ac.uk/astrogrid/DataAccessWorksheet/MERLINImager.png"> <img src="DataAccessWorksheet_files/MERLINImager.png" alt="MERLINImager.png"> </a>
<a href="http://www.merlin.ac.uk/astrogrid/DataAccessWorksheet/Aladin1.png"> <img src="DataAccessWorksheet_files/Aladin1.png" alt="Aladin1.png"> </a>
</p>
<p>
If there are data anywhere within the field of view of an observation
which match your criteria, the five best images will be made and
supplied via a SIAP-like VOTable which can be loaded into Aladin or
browsed with TopCat.  The service uses ParselTongue, a python-based
scripting language developed by <a href="http://www.radionet-eu.org/">RadioNet</a>. It
will be developed to link with SIMBAD, and
other data products (e.g. spectra, time series) could be extracted in
a simlar fashion from visibility data, X-ray event series etc.

</p>

<h3>Using the Workflow Builder</h3>

<p>
Queries available through the Application Launcher can also be
inserted in a workflow using the <a href="http://www.merlin.ac.uk/astrogrid/WorkflowBuilder/WorkflowBuilder.html">Workflow Builder
</a>launched from the Workbench.  If you insert a Step into a
workflow, the Task Editor will then let you select a queryable dataset
and build a query in the same way.
</p>



<h2>Using the Colour Cutter</h2>
<p>
This <a href="http://www.merlin.ac.uk/astrogrid/ParameterisedWorkflows/ParameterisedWorkflows.html">Parameterised
workflow</a> is launched from the workbench. The
<a href="http://www.merlin.ac.uk/astrogrid/ColourCutter/ColourCutter.html" target="_blank">Colour Cutter</a>
allows selection by position and  magnitude difference from one
IR and one optical catalogue and cross-matches the sources in common.

</p>

<!-- Put author information here -->
<hr>
<p>
<em>Author: A M S Richards, amsr@jb.man.ac.uk</em><br>
<em>Last revised : 2 April 2006</em>
</p>

</div>
</body></html>