<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<link rel="stylesheet" href="../astrodoc.css"/>

<title>Time Cross Matcher</title>

</head>
<body>

<!-- 
THIS IS A COMMENT.  It doesn't show up in the rendered page, but 
people can still see it if they use "view source" on the displayed 
page (so not a good place to store your credit card details).  
-->

<!-- Leave this div here -->
<div id="banner">&nbsp;</div>

<!-- Put your content inside this div -->
<div id="content">

<h1>Time Cross Matcher</h1>

<h2>Summary</h2>

<p>
This tool allows you to cross match 2 catalogues based on time.
It is launched from the Application Launcher.
</p>

<h2>1. Background</h2>

<p>
Time cross matching aims to identify time overlaps between entries in two
catalogues. Two typical use cases can be identified,
as described in Secs. 1.1 and 1.2 below. More complex types of cross matching
are also possible. 
</p>

<h3>1.1 Time Cross Matching instants</h3>

<p>
A user has 2 catalogues of observations containing some time information,
typically the observation's timestamp, and wants to identify entries
in the first catalogue that have a simultaneous observation in
the second one. An error needs to be given to specify the
meaning of 'simultaneous' here. 
</p>

<center>
<p>
<img src="txminstant.png" alt="Time Cross Matching instants" />
</p>
</center>


<h3>1.2 Time Cross Matching intervals (events)</h3>

<p>
Here a user has two catalogues of 'events', containing time information
on both the start and end of the events, i.e. describing time intervals.
An error for the cross matching may be specified.
</p>

<p>
<strong>Error=0:</strong>
</p>
<center>

<p>
<img src="txminterval2.png" alt="Time Cross Matching intervals - error=0" />
</p>
</center>

<p>
<strong>Nonzero error:</strong>
</p>

<center>
<p>
<img src="txminterval1.png" alt="Time Cross Matching intervals - nonzero error" />
</p>
</center>

<h2>2. Input and output of Time Cross Matcher</h2>

<h3>2.1 Input</h3>

<p>
The Astrogrid Time Cross Matcher (TXM) currently takes 2 catalogues as input.
The order in which the 2 catalogues are presented to the TXM is important:
the first catalogue, is called the <strong>Target</strong>, 
and the second one the <strong>Match</strong>. 
The TXM goes through each of the entries in the Target, and identifies
if any matching entries can be found in the Match.  
</p>

<p>
The two catalogues should be input to the TXM in Votable format.
(If the catalogues are not in Votable format: use the Topcat 
application to import a file in ascii or csv format, and then
save as Votable. The ascii file to be imported into Topcat
should have header comments preceded by # . The last comment line
in the header should be of the form '#  col1name  col2name  col3name '
so that meaningful column names are written into the Votable.)
</p>

<p>
The input Target and Match Votable should be loaded into the user's 
MySpace.
</p>

<p>
The Votables to be time cross matched should contain time columns in
any of the following formats: <strong>ISO</strong> (ISO 8601 format,
eg '2002-07-28T00:00:00.000');  <strong>MJD</strong> (Modified Julian Day) or
<strong>JD</strong> (Julian Day).
The time format does not need to be the same in the two catalogues.
</p>


<p>
Note: if your 2 catalogues have numeric values for time (eg MJD or decimal
year etc) with the same format in both tables, you can do a Time Cross Match
Instants operation (as described in Sec 1.1) directly within Topcat.
</p>

<p>
The TXM requires the user to manually input the names of the columns
in the Votable to be used for time cross-matching. For example,
for the case of the TXM Intervals tool, the name of the column containing
start times in the Target (parameter called: Target time-start column)
will need to be specified, and similarly for the other columns required.
</p>

<p>
Finally, the error to be used needs to be input. 
Allowed units for the error are:
<strong>d</strong> (days), <strong>h</strong> (hours), 
<strong>m</strong> (minutes) and   <strong>s</strong> (seconds).
</p>

<h3>2.2 Output</h3>

<p>
The TXM produces by default 4 outputs:
<ul>

<li> <em>All targets plus matches</em>: a table with all the entries of the 
      Target votable, and, next to the entries that had a match in the Match
      votable, the matching entries from the Match VOtable.
      (This table contains all columns from the Target (prefixed by T1)
      plus all columns from the Match (prefixed by T2)).
      <strong>If an entry in the Target has more than 1 match</strong>,
      it will be listed in this table as many times as it has
      matches. 
      </li>

<li> <em>Only targets with matches</em>: a table with
     only the rows of the Target that had a match (this table
     has exacly the same columns as the original Target).</li>

<li> <em>Only target without matches</em>:a table with
     only the rows of the Target that did not have a match (this table
     has exacly the same columns as the original Target).</li>
<li> <em>Log file.</em></li>

</ul>
</p>

<p>
As an example, below is a screenshot of the input and output parameters
for TXM Intervals. 
</p>
<p>
<center>
<img src="txmintervalscrshot.png" alt="Screenshot of input and output of 
TXM Interval" />
</p>
</center>

 

<h2>3. Selecting and launching TXM</h2>

<p>
From the Workbench, click on Application Launcher, enter 
<tt>txm</tt> in the search box and 
click on <tt>Search</tt>.
This will display a list of applications that
match the search. Clicking one of the names in 
the list displays registry information on the application. 
</p>

<p>
Depending on the type of cross matching required, select either 
Time Cross Match Instants, or Time Cross Match Intervals, or Interval
vs Instant Time Cross Matcher (this also allows Instant vs Interval),
or the generic Multi-Purpose TXM. The latter has the most complex 
interface, allowing any of the above types of Time Cross Matching. 
</p>

<p>
To select the required TXM,
click on the box to the 
left of the name. This takes you to a
new window where inputs to the application can be specified.
(To go back to the list, click on <tt>Chooser</tt>).
</p>

<p>
To select the Target and Match votables, click on the box
under <tt>Ref?</tt> in the corresponding row, and point to
the required votables in MySpace. To type in column names
required, double click on the box under <tt>Value</tt>
and type in. Similarly for the error boxes.
</p>

<p>
To launch the application, click on the green icon at the top.
If prompted to choose the CEA server, choose: 
<tt>ivo://uk.ac.le.star/TXM</tt>.
</p>

<h2>4. Tool authors</h2>

<p>
The TXM tool was developed by Patricio Ortiz (pfo@star.le.ac.uk)
with input from Silvia Dalla (s.dalla@manchester.ac.uk).
</p>


<!-- Put author information here -->
<hr/>
<p>
<em>Author: Silvia Dalla, s.dalla@manchester.ac.uk</em><br/>
<em>Last revised : 5 June 2006</em>
</p>

</div>
</body>
</html>
