<?xml version="1.0" encoding="ISO-8859-1" ?>
<document>
    <properties>
        <title>AstroGrid registry installation</title>
    </properties>
    <body>
    <section name="Installation">
      <p>
         The installations below have mainly been tested on tomcat versions 5.0.19-5.0.28.  But the "Manual Installation" could be carried out on 
 other servlet/j2ee containers.  For the purpose of most instructions here the guide will refer to tomcat.<br />
		<strong>Be sure to read the bottom section if you know your deploying this in a servlet container that will "NOT" unpack the war file.</strong><br />
		Unpacking is usually a term of unzipping/extracting the war and is something typical that tomcat does when placing a war file in its webapps directory.
      <br />
      Download Location of war: http://www.astrogrid.org/maven/org.astrogrid/wars/
      <br />See astrogrid-registry-???.war  where ??? is a version number.  Look at dates for latest release.<br />
		Below is just for installation see <a href='configure.html'>configure</a> for how to configure the registry.
      </p>
      <subsection name="Manual installation/Drop-In - Preferred">
      <p>
         Most of the work is in the configure page, for installation. 
         <ul>
            <li>Take the war file and rename it if you do not like the name (be sure to keep the .war ending).  Typical names are "astrogrid-registry.war" or "registry.war"</li>
                <li>Now simply drop it into the webapps directory under where your tomcat is installed.</li>
                <li>Tomcat by default should unpack the war file into a directory in that webapps directory.  Directory Name should be the same as the war file minus the ".war" part.</li>			
                <li><strong>Your done go to Configuration.</strong></li>
                <li>If it does not unpack it then you may have it turned off in your tomcat or your using a different servlet container that does not unpack the war files "see bottom section if you know it does not unpack wars".</li>
				<li>Normally tomcat should unpack it, here is another way to deploy via a tomcat manager:</li>
                <li>Go to your tomcat manager and login.  A link is found at the main tomcat page example if tomcat is on the local/same machine with default port set: http://localhost:8080</li>
                <li>If you relize you don't know how to login, then you will need to view a particular file located where you installed tomcat at: {tomcat install}/conf/tomcat-users.xml</li>
                <li>Unless your admin has setup tomcat to run on ldap or relational db for users; then this file should give you the username, password, and there roles for logging in.</li>
                <li>If this is a brand new tomcat then you will need to make a "manager" role and add it to a user or create a user in this file.  You should go ahead and add a "admin" as well for configuration purposes later.</li>
         </ul>
      </p>
      </subsection>
      <subsection name="GUI Installer - Easy">
        <p> The registry may also be installed using a GUI installer that downloads the necessary software, installs it and configures it, prompting the user 
            for configuration settings. These may be saved to ease reinstallation. Currently, the installer only installs the registry in the simplest 
            "internal database" mode, but this, and other configuration settings can be modified post-installation as described on the <a 
            href="configure.html">configure</a> page.</p>
            <p> To download the installer and for further information, including how to run it on headless machines, see the <a 
                href="../../../installers.html">installers download page</a>. For further information on the configuration 
                settings you will need to supply, run the installer and read the welcome page. </p>
      </subsection>
	  <subsection name="Handling Packed wars">
		<p>This section is for servlet containers that do not unpack the war file.  Essentially this means you cannot use the
           embedded eXist in the war app and will require downloading the eXist component to work in embed mode or optionally
           download an external eXist and use it.  But the embed instructions are much easier and quicker.<br />
			Instructions for embed use:
			<ul>
			  <li>Find the eXist zip file corresponding to this release ex: astrogrid-registry-xmldb_exist-1.2.zip located at: <a href='http://www.astrogrid.org/maven/org.astrogrid/zips'>Zips Directory</a> Optionally if you 
                  know your going to be a "Full" registry then you can download -full.zip ex: astrogrid-registry-xmldb_exist-1.2-full.zip which has the majority of records/resources in the database.</li>
			  <li>Now unzip it in some directory where you want your database.</li>
			  <li><i>See Configure page for info on properties if your not sure how to change property settings.</i>
                  Using the tomcat Administration GUI or other ways of changing JNDI env entries, go and change the "reg.custom.exist.configuration" property and point to this directory plus conf.xml ex: /exist/db/conf.xml.</li>
			  <li>Be sure to hit "save" then hit "commit changes" if you used the Administration GUI.</li>
			  <li>Your Done Go to Configure section.</li>
			</ul>
		</p>
	  </subsection>
    </section>
   </body>
</document>