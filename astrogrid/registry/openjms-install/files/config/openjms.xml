<?xml version="1.0"?>

<!-- OpenJMS configuration:
     . RMI connectors  
     . JDBM persistency
     . embedded JNDI provider
     . embedded RMI registry, running on port 1099
     . single host                                       
     . preconfigured destinations

     NOTES: this configuration shows all configuration elements relevant
            when using an RMI connector. 
 -->

<Configuration>

  <!-- Optional. This represents the default configuration  -->
  <ServerConfiguration host="localhost" embeddedJNDI="true" />
  
  <!-- Required when using an RMI connector -->
  <Connectors>
    <Connector scheme="rmi">
      <ConnectionFactories>
        <QueueConnectionFactory name="JmsQueueConnectionFactory" />
        <TopicConnectionFactory name="JmsTopicConnectionFactory" />
      </ConnectionFactories>
    </Connector>
  </Connectors>
    
  <!-- Required  -->
  <DatabaseConfiguration>
<!--
    <JdbmDatabaseConfiguration name="openjms.db" />
-->
    <RdbmsDatabaseConfiguration
      driver="@OPENJMS.JDBC.DRIVER@"
      url="@OPENJMS.JDBC.URL@"
      user="@OPENJMS.JDBC.USER@"
      password="@OPENJMS.JDBC.PASSWORD@"/>
<!--
    <RdbmsDatabaseConfiguration
      driver="org.postgresql.Driver"
      url="jdbc:postgresql://localhost/openjms"
      user="postgres"
      password=""/>
-->
  </DatabaseConfiguration>

  <!-- Required -->    
  <AdminConfiguration
     script="${openjms.home}/bin/startup.sh"
     config="${openjms.home}/config/openjms.xml" />
    
  <!-- Changing default RMI port -->
  <RmiConfiguration embeddedRegistry="true"
                    registryHost="localhost"
                    registryPort="2099"
                    clientPingInterval="15"
                    serverName="OpenJMSServer"
                    jndiName="JndiServer"
                    adminName="JmsAdminServer">
  </RmiConfiguration>

  <!-- Optional. Logger configuration -->
  <LoggerConfiguration file="${openjms.home}/config/log4j.xml" />

  <!-- Optional. If not specified, no destinations will be created -->
  <AdministeredDestinations>
    <AdministeredTopic name="topic1">
      <Subscriber name="sub1" />
      <Subscriber name="sub2" />
    </AdministeredTopic>
  
    <AdministeredQueue name="queue1" />
    <AdministeredQueue name="queue2" />
    <AdministeredQueue name="queue3" />
  </AdministeredDestinations>

</Configuration>
