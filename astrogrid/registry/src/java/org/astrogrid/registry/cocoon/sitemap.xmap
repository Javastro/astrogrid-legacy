<?xml version="1.0"?>

<map:sitemap xmlns:map="http://apache.org/cocoon/sitemap/1.0">

   <map:components>
      <map:generators default="file"/>
      <map:transformers default="xslt"/>
      <map:readers default="resource"/>
      <map:serializers default="html"/>
      <map:selectors default="browser"/>
      <map:matchers default="wildcard"/>
   </map:components>

   <map:pipelines>
         <map:pipeline>
            <map:match pattern="agregistry.xsp">
               <map:generate type="serverpages" src="xsp/agregistry.xsp"/>
               <map:transform src="xsl/agregistry.xsl"/> 
               <map:serialize type="html"/>
            </map:match>
         </map:pipeline> 
         <map:pipeline>
            <map:match pattern="agtemplate.xsl">
               <map:redirect-to uri="xsl/agtemplate.xsl"/>
            </map:match>
         </map:pipeline> 
         <map:pipeline>
            <map:match pattern="agregistry.xml">
               <map:generate type="file" src="xml/agregistry.xml"/>
               <map:transform src="xsl/agtemplate.xsl"/>
               <map:serialize type="html"/>
            </map:match>
         </map:pipeline>
         <map:pipeline>
            <map:match pattern="*.xsp">
               <map:generate type="serverpages" src="xsp/{1}.xsp"/>
               <map:transform src="{1}.xsl"/> 
               <map:serialize type="html"/>
            </map:match>
         </map:pipeline> 
         <map:pipeline>
            <map:match pattern="*.xml">
               <map:generate type="file" src="xml/{1}.xml"/>
               <map:transform src="xsl/agtemplate.xsl"/>
               <map:serialize type="html"/>
            </map:match>
         </map:pipeline>
         <map:pipeline>
            <map:match pattern="*.xsl">
               <map:redirect-to uri="xsl/{1}.xsl"/>
            </map:match>
         </map:pipeline> 
         <map:pipeline>
            <map:match pattern="*.html">
               <map:read mime-type="text/html" src="html/{1}.html"/>
            </map:match>
         </map:pipeline>
         <map:pipeline>
            <map:match pattern="*.gif">
              <map:read mime-type="image/gif" src="images/{1}.gif"/>
            </map:match>
         </map:pipeline>
         <map:pipeline>
            <map:match pattern="*.png">
               <map:read mime-type="image/png" src="images/{1}.png"/>
            </map:match>
         </map:pipeline>
<!--      </map:match> -->
   </map:pipelines>
</map:sitemap>
