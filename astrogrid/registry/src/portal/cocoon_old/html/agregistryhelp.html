<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"><html><head>
       
  <meta http-equiv="content-type" content="text/html; charset=ISO-8859-1">
      <meta http-equiv="pragma" content="no-cache"><title>AstroGrid Portal - Registry Browser Help</title></head>

<body>
    	<!-- Logo and Banner -->       
<table cellpadding="2" cellspacing="0" border="0" style="width: 100%;">
          <tbody>
             <tr align="center" valign="middle">
                <td style="height: 100px; width: 140px;">               
   <a href="http://www.astrogrid.org/">                   	<img src="aglogo.png" title="AstroGrid Home" alt="" style="border: 0px solid ; width: 140px; height: 100px;">
                    </a>                </td>
                <td bgcolor="#cccccc" style="color: rgb(0, 0, 255);">     
                <font size="+4" face="arial, helvetica, sans-serif">    
                 	AstroGrid Virtual Observatory                      </font>
                   <br>
                      <font size="+3" face="arial, helvetica, sans-serif">                      	Registry Browser
Help                      </font>                   <br>
                </td>
             </tr>
          
  </tbody>       
</table>
       <!-- Separator bar -->             
<table cellpadding="2" cellspacing="0" border="0" style="text-align: left; width: 100%;">
          <tbody>
             <tr bgcolor="#0000ff">
                <td>                	<br>
                </td>
             </tr>
          
  </tbody>       
</table>
       <!-- Menu and main page-->       
<table cellpadding="2" cellspacing="0" border="0" style="height: 80%; width: 100%;">
          <tbody>
             <tr align="center" valign="top" style="color: rgb(51, 51, 255);">
             	<!-- Menu -->                <td style="background-color: rgb(204, 204, 204); width: 140px;">             
     <a href="http://stargrid1.bnsc.rl.ac.uk:8080/cocoon/astrogrid/index.html"><br>
 <b>Home</b></a>                   <br>
      <br>
                   <i><b>Browse Registry</b></i>                   <br>
      <br>
                   <a href="http://stargrid1.bnsc.rl.ac.uk:8080/cocoon/astrogrid/agdataquery.html"><b>Data Query</b></a>     
             <br>
      <br>
                   <a href="http://stargrid1.bnsc.rl.ac.uk:8080/cocoon/astrogrid/agmyspace.html"><b>Browse MySpace</b></a>   
               <br>
      <br>
                   <a href="http://stargrid1.bnsc.rl.ac.uk:8080/cocoon/astrogrid/agjobmonitor.html"><b>Job Monitor</b></a>   
               <br>
      <br>
                   <a href="http://stargrid1.bnsc.rl.ac.uk:8080/cocoon/astrogrid/agtools.html"><b>Tools</b></a>              
    <br>
      <br>
                   <a href="http://stargrid1.bnsc.rl.ac.uk:8080/cocoon/astrogrid/aglogout.html"><b>Logout</b></a>            
      <br>
      <br>
                </td>
                <!-- Main page -->                <td style="vertical-align: top;" rowspan="2">                   
      <table cellpadding="2" cellspacing="2" border="0" style="width: 100%; margin-left: auto; margin-right: auto;">
                      <tbody>
                         <tr align="center" valign="middle" bgcolor="#000000">
                            <td width="0" height="0" colspan="1" rowspan="1" style="color: white; font-family: arial,helvetica,sans-serif; font-size-adjust: 2; font-weight: bold; height: 30px; width: 200px;"> 
                                 <a href="http://stargrid1.bnsc.rl.ac.uk:8080/cocoon/astrogrid/agregistry.html" style="color: rgb(255, 255, 255);">Browse Registry</a>                   
        </td>
                            <td width="0" height="0" colspan="1" rowspan="1" style="color: white; font-family: arial,helvetica,sans-serif; font-size-adjust: 2; font-weight: bold; height: 30px; width: 200px;"> 
                                 Help                            </td>
                            <td>                            <br>
            </td>
                         </tr>
                         <tr align="left" valign="top">
                            <td style="" 1="" colspan="3">              
                                             
            <blockquote><big>I. Registry Overview</big><br>
              <br>
              <big>The Astrogrid registry finds the appropriate Astrogrid
data archives, data</big><br>
              <big>transformation services, and storage services that meet
the requirements</big><br>
              <big>of an astronomer's query.  The registry can be accessed
by sending an XML</big><br>
              <big>query to the registry web service.  The registry
web service converts an</big><br>
              <big>XML query into an XQL query that is applied to the registry
XML file.  The</big><br>
              <big>registry XML file contains metadata for each data archive,
transformation</big><br>
              <big>service, and archive service registered with Astrogrid;
registry service</big><br>
              <big>entries that satisfy the user's query are returned by
the web service as</big><br>
              <big>an XML formatted query response to the user.</big><br>
              <br>
              <big>II. Registry Access</big><br>
              <br>
              <big>The registry can be accessed through a number of web portals,
including a</big><br>
              <big>portal hosted at RAL and one hosted at MSSL.<br>
              <br>
The registry can be queried on a number of metadata values, such as title,<br>
ticker, publisher, creator, spectral coverage information, temporal<br>
coverage information, facility, and instrument, to name just a few. 
A<br>
full list of queriable elements can be found on the AstroGrid <a href="http://wiki.astrogrid.org/bin/view/Astrogrid/AgCd06RegistrySearchableElements">wiki</a>.<br>
              <br>
A query can return different kinds of metadata from a service entry as<br>
well.  A service's entry in the Astrogrid registry is divided into<br>
identity, curation, content, and serviceMetadataConcept metadata.  The<br>
query can be structured to return any of these subsets of metadata<br>
(although identity metadata is always returned), or the query can specify<br>
all metadata.<br>
              <br>
III. Technical Details<br>
              <br>
The registry web service takes a query in the following form:</big><br>
              <br>
              <big>&lt;query&gt;<br>
    &lt;selectionSequence&gt;<br>
        &lt;selection item='searchElements'
itemOp='EQ' value='all'/&gt;<br>
        &lt;selectionOp op='$and$'/&gt;<br>
        &lt;selection item='ticker' itemOp='EQ'
value='all'/&gt;<br>
    &lt;/selectionSequence&gt;<br>
&lt;/query&gt;<br>
              <br>
The first "selection" element includes an attribute called 'item' with the<br>
value of 'searchElements' - this is how the query specifies which metadata<br>
can be returned.  The next attribute in this element, 'value', specifies<br>
the metadata as 'all', 'identity', 'content', 'curation', or<br>
'serviceMetadataConcept'.  If a selection element with<br>
item="searchElement" is not present, then all metadata of matching service<br>
entries is returned as a default.</big><br>
              <br>
              <big>The structure of a query is based on a series of nested
selectionSequence<br>
elements.  There is no limit to the number of selectionSequences that
can<br>
be nested inside each other.  Within a selection sequence, there will
be<br>
one or more selection elements; multiple selection elements are separated<br>
by selectionOp elements.  SelectionOp elements contain an attribute
called<br>
'op' whose value can be set to $and$, $or$, or $not$.<br>
              <br>
Selection elements contain item, itemOp and value attributes. Values for<br>
"item" specify the metadata in the registry service entry that the user<br>
wants to query, and "value" denotes a specific value that the metadata<br>
criteria should match.  The "value" attribute can also be set to "*",<br>
"all", or "" to return all items.  The itemOp attribute can have six<br>
values: EQ, NE, GT, LT, GE, or LE.  For example, the selection<br>
"/&gt;&lt;selection item='ticker' itemOp='EQ' value='1XMM'/&gt; would search
for<br>
registry service entries where the "ticker" element has a value equal to<br>
"1XMM".</big><br>
              <br>
              <big>The query response takes the form:<br>
              <br>
&lt;queryResponse&gt;<br>
    &lt;responseRecord&gt;<br>
        &lt;recordKeyPair item='metadataType'
value='identity'/&gt;<br>
        &lt;recordKeyPair item='title' value='Solar
UK Research Facility'/&gt;<br>
    &lt;/responseRecord&gt;<br>
&lt;/queryResponse&gt;<br>
              <br>
Within a queryResponse, there is one responseRecord for every matching<br>
service entry in the registry.  In each responseRecord, there will always<br>
be one or more recordKeyPairs that identify the type of metadata contained<br>
in the following responseKeyPairs: identity, curation, content, or<br>
serviceMetadataConcept.  After the metadataType recordKeyPair, the<br>
subsequent metadataKeyPairs identity each the service's metadata elements<br>
as "item" and the corresponding value as "value".  In the above query<br>
response example, the matching service entry contains a metadata element<br>
called "title" that has a service entry value of "Solar UK Research<br>
Facility".</big><br>
              <br>
            </blockquote>
            </td>
                         </tr>
                      
        </tbody>                   
      </table>
                   <br>
                </td>
             </tr>
             <!-- IVOA logo and link -->             <tr bgcolor="#cccccc">
                <td align="center" style="color: rgb(255, 153, 0); font-size-adjust: -2; width: 140px;">    
              	Member of the                   <br>
                   <a href="http://www.ivoa.net/">                   	<img src="ivoalogo.png" title="IVOA Alliance" alt="IVOA Alliance" style="border: 0px solid ; width: 140px; height: 77px;">
                    </a>                   <br>
                         International Virtual Observatory Alliance     
       </td>
    </tr>
          
  </tbody>       
</table>
    <br>
</body></html>
