                               MySpaceDemo
                               ===========


MySpaceDemo is a simple program to demonstrate the mySpace system, though
in practice it only demonstrates manipulation of the mySpace registry.
This note describes MySpaceDemo.


Caveats
-------

* The mySpace system is new code and can be broken.  Please tread
  carefully.

* MySpaceDemo invokes the MySpaceManager class directly, rather than
  via a Web service.  Similarly the invocations of the mySpace server
  class in the MySpaceManager have not been implemented.  Thus MySpaceDemo
  neither uses Web services nor exercises the mySpace server.  In practice
  it is a demonstration of the mySpace registry.

* MySpaceDemo is a demonstration and perhaps debugging tool.  It has
  a primitive user interface.  The interface seen by an astronomer
  interacting with the mySpace system through the mySpace Explorer will
  be _very_ different.


Files
-----

The mySpaceDemo subdirectory of the mySpace system contains the following
files:

  0README.LIS             - this note,
  MySpaceDemo.java        - source for MySpaceDemo,
  CreateRegistry.java     - program to create the example registry file,
  example.reg             - example registry file,
  example.reg_copy        - copy of the example registry file.


Compiling
---------

Currently there is no build system for the mySpace code.  The source
needs to be compiled manually.  In order to produce a runnable version
of MySpaceDemo you need to compile the packages in the following
subdirectories of the mySpace system:

  mySpaceStatus
  mySpaceManager
  mySpaceDemo

typically by going into each subdirectory and typing:

  javac *.java

there is a JUnit test class in mySpaceStatus which will only compile if
you're set up for using JUnit, but this class is not used by MySpaceDemo.
MySpaceDemo should be the last package compiled.


Running
-------

It is best to start MySpaceDemo  with a fresh copy of the example registry
file.  (The file will be modified by MySpaceDemo, so starting from the
standard file ensures that examples below will work.)

To start the program simply type:

  java MySpaceDemo example

Note that the argument given to MySpaceDemo is the name of the registry
(here `example', not the name of the registry file (here `example.reg').

A small box bearing the legend `Options' should appear, probably in the
top left corner of your screen.  You'll probably want to move it to some
more convenient location.  If you click on `Options' a series of, er,
options appear, allowing you to perform mySpace operations (registry
operations in practice).  All of these options require further input
and produce output, but all such input and output is via the command
terminal window.

You might like to try the following sequence of operations:

* choose option `Query'

  Enter query (eg. '*'): *

  all the entries in the registry will be displayed.

  ** Note that the number which appears at the start of each line is the
  identifier (ID) for each DataHolder or container.  You supply this ID
  to perform operations on the item.

* choose option `Query'

  Enter query (eg. '*'): /ktn*

  all the entries in the ktn home container will be displayed.

* choose option `Show details of dataHolder'

  Enter DataHolder ID: 4

  some of the details for the chosen DataHolder are displayed.

* choose option `Copy DataHolder'

  Enter ID of DataHolder to be copied: 4
  Enter name of new DataHolder: /clq/con1/table2

  The DataHolder will be copied.  (Note that the new, output DataHolder
  does not yet have an ID and so has to be specified by name.)

* choose option `Delete DataHolder'

  Enter ID of DataHolder to be deleted: 4

  The DataHolder will be deleted.

You might now like to experiment for yourself.  For example, try copying
a DataHolder to a container that doesn't exist of deleting a non-empty
container.  When you've seen enough choose option `Quit'.


Clive Davenhall,
2/6/03/

-----------------------------------------------------------------------------
Clive Davenhall                                      Institute for Astronomy,
e-mail (internet, JANET): acd @ roe.ac.uk        Royal Observatory Edinburgh,
fax from within the UK:   0131-668-8416            Blackford Hill, Edinburgh,
fax from overseas:     +44-131-668-8416                    EH9 3HJ, Scotland.
