/* Generated by Together */

package mySpaceRegistry;

import org.astrogrid.mySpace.mySpaceServer.ServerManager;
import java.util.Vector;

/**
 * @WebService
 * @wsScope Request 
 */
public class RegistryManager {
    public String processRequest(){
    	return "";
    }

    /**
     * this method checks whether this user has rights to do this action
     * @param usrID user Identity
     * @param communityID Community Identity
     * @param jobID Job Identity
     * @param action Action which requires checking for user validation
     **/

    private boolean validateUser(String usrID, String communityID, String jobID, String action) {
    	return true;
    }

    public boolean deleteDataItem(String usrID, String communityID, String jobID) {
        //if validateUser(userID, communityID, jobID, DELETE) return false
        //return false
        //else
          //if ServerManager.deleteDataItem(userID, communityID, jobID, DELETE) return false
          //return false
          //else return true
          return true;
    }

    public boolean extendLease(String usrID, String communityID, String jobID) {
        //validateUser(userID, communityID, jobID, EXTEND_LEASE)
        //if ServerManager.checkDataState(userID, communityID, dataItemID) return Cached
          //moveDataItem
        //else if return Permenate saveDataItem
        //else return "can't perform this action"+error message
        return true;
    }

    public boolean copyDataItem(String usrID, String communityID, String jobID, String from, String to) {
         //validateUser(userID, communityID, jobID, EXTEND_LEASE)
        //lookupDataItem(userID, communityID, jobID) -- which returns the dataItemID
        //if ServerManager.checkDataState return cached
          //
        //else if ServerManager.checkDataState return permanent
          //if ServerManager.enquireStorageAvailable return false
            //return false -- can't copy since not enough space for you
          //else saveDataItem
        //return true
        return true;
    }

    public boolean moveDataItem(String usrID, String communityID, String dataItemID, String from, String to) {
         //validateUser(userID, communityID, jobID, MOVE)
        //if ServerManager.enquireStorageAvailable return false
            //return false -- can't copy since not enough space for you
          //else saveDataItem
        //return true
        return true;
    }

  /** lookUpData will return perform lookUp in ServerManager to get detailed data for
   *  the dataItem
   * */
    public boolean lookUpData(String usrID, String communityID, String jobID) {
         //validateUser(userID, communityID, jobID, EXTEND_LEASE)
        //lookUpDataItem
        //ServerManager.lookUpData(String usrID, String communityID, String dataItemID)
        return true;
    }

    /** createContainer will creates a Container for one user
     *  a Container is composed by many DataItems.
     * */
    protected Vector createContainer(String usrID, String communityID, DataItem dataitem) {
         //validateUser(userID, communityID, jobID, EXTEND_LEASE)
        //call for enquireStorageAvailable
        //add DataItem
        Vector vec = new Vector();
        return vec;
    }

    /** User checks how much space he has left on the MySpaceServer
     *
     * */
    public int enquireStorageAvailable(String usrID, String communityID) {
         //validateUser(userID, communityID, jobID, ENQUIRE_STORAGE_AVAILABLE)
        //ServerManager.enquireStorageAvailable
        int size =0;
        return size;
    }

    /** given a size, return true or false indecate whether this action is doable
     *
     * */
    public boolean enquireStorageAvailable(String usrID, String communityID, int size) {
         //validateUser(userID, communityID, jobID, ENQUIRE_STORAGE_AVALIABLE)
         return true;
    }

    /** lookUpDataItem will return dataItemID
     *
     * */
    public String lookUpDataItem(String usrID, String communityID, String jobID) {
         //validateUser(userID, communityID, jobID, LOOK_UP)
        //find the dataItemID and return as String
        return "";
    }

    public boolean save(String usrID, String communityID, String jobID) {
         //validateUser(userID, communityID, jobID, SAVE)
        //lookUpDataItem -- return dataItemID
        //ServerManager.Save
        return true;
    }

    public String checkDataState(String dataItemID) {
        //ServerManager.Data.checkDataState
        return "";
    }

    private String community;

    /**
     * @link aggregation 
     */
    private UserAccount lnkUserAccount;
    private Vector users;
    private final static String DELETE = "DELETE";
    private final static String SAVE = "SAVE";
    private final static String COPY = "COPY";
    private final static String MOVE = "MOVE";
    private final static String EXTEND_LEASE = "EXTEND_LEASE";
    private final static String LOOK_UP = "LOOK_UP";
    private final static String ENQUIRE_STORAGE_AVAILABLE = "ENQUIRE_STORAGE_AVAILABLE";
}
