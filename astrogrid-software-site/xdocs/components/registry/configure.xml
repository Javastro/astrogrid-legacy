<?xml version="1.0" encoding="ISO-8859-1" ?>
<document>
    <properties>
        <title>AstroGrid registry configure</title>
    </properties>
    <body>
    <section name="Configuration">
      <p>
         This page will take you step-by-step on how to setup the registry to be complete.  Again this page
 will refernce Tomcat.<br />
         <i>Context Name - is your webapp name (hence usually the unpacked directory name in the webapps).  This will be used
a lot in various documentation usually with curly brackets around it.</i>
<br />
         <strong>By default the registry runs a xml database inside the webapp where all the data is stored inside the webapp directory.
              It is STRONGLY RECOMMENDED to read the "eXist With Registry Guide" to explain on how to move the data outside your webapp to ensure
no data is lost when upgrading later.</strong>
      </p>
      
      <subsection name="Changing Properties">
      <p>
         First we need to change some properties in the environment entries.<br />
         <ul>
            <li>Go to your Administration GUI known as "Tomcat Administration" and login.  This link is on the main tomcat
menu site http://{server}:{port} example on your local machine with default tomcat port is; http://localhost:8080</li>
                <li>Go to your environment entries for your {context name} this is located at:
                     Service->Host->Context {context name}->Environment Entries.</li>
                <li>Now change the following properties (don't commit yet)</li>
                <li>reg.amend.authorityid - Your main authority id for this registry, normally an institution domain name ex: mssl.ucl.ac.uk</li>
            <li>reg.amend.harvest - *Only if you want registry to automatically harvest then set to "true"</li>
            <li>reg.amend.identify.adminEmail - to your contact e-mail.</li>
            <li>reg.amend.oaipublish.0.10 - *Only if your {context name} is not "astrogrid-registry" then change it.</li>
            <li>That is all for properties, it is strongly recommended to read the "Users Guide" to understand other properties.</li>
         </ul>
      </p>
       </subsection>
      <subsection name="Setting up for data">
         <p>
            <strong>DO NOT NEED TO DO WHEN UPGRADING</strong>
          <ul>
            <li>1.) Go to the registry jsp page of "http://...../{context name}/admin/index.jsp" and do the first registration process to register
              this registry. This will in setup your first entry into your registry which is your Registry Type describing about this registry.
            </li>
            <li>
              If you are setting up a local Registry and do not need a Full Registry and DO NOT WANT TO BE HARVESTED BY OTHER REGISTRIES then stop here, all your
                 entries are complete and other client apps may submit Resources to this registry as long as it is a AuthorityID
                 managed by this Registry. <i>Notice that Registry Type you entered in step one had {managedAuthority} element tags this is what is read to 
determine what authority ids you are allowed to use.</i>
            </li>
               <li>Now it is time to register your new Registry to the rest of the world.</li>
            <li>2.) Do the Second link on "/admin/index.jsp" for registering your registry to a full registry.</li>
            <li>Now if your not planning on being a Full Registry then stop here.</li>
            <li>3.)Finally do the Third link on "/admin/index.jsp" to become a full registry by grabbing all the
                     registry types of a full registry.
            </li>
            <li>4.) Now the next time your harvest cycle happens it will begin harvesting these Registries, the first time
               it will harvest with no Date, and then after that it will harvest by date.  Optionally there is a "/admin/harvestResource.jsp" to perform
                  harvests on individual Registries.
            </li>
            <li>You're done.</li>
          </ul>      
         </p>
      </subsection>
    </section>
   </body>
</document>