<?xml version="1.0"?>

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Quaestor: generic SPARQL endpoint</title>
<link rel="stylesheet"
      type="text/css"
      href="/base.css"/>
</head>

<body>

<h1>Quaestor: generic SPARQL endpoint</h1>

<dl>
<dt><code>GET http://hostport/quaestor/kb/<em>kb-name</em>?sparql=xxx</code></dt>
<dd>The string <code>xxx</code> is a URLEncoded SPARQL query which is
made against the <code><em>kb-name</em></code> knowledgebase.</dd>

<dt><code>GET http://hostport/quaestor/kb/<em>kb-name</em>[/<em>submodel</em>]</code></dt>
<dd><p>Retrieve either the complete <code><em>kb-name</em></code> model, or
the named <code><em>submodel</em></code>.  The format is obtained from the
<code>Accept</code> header, which must contain one of the following
MIME types:</p>
<ul>
  <li><code>application/n3</code> and <code>text/rdf+n3</code> for n3.</li>
  <li><code>application/rdf+xml</code> for RDF/XML</li>
  <li><code>text/plain</code> for N-Triples</li>
</ul>
<p>You can add an optional query <code>?model</code> or
<code>?metadata</code> to retrieve the appropriate thing; the default
is to retrieve the model.</p>
</dd>

<dt><code>POST http://hostport/quaestor/kb/<em>kb-name</em>?sparql</code></dt>
<dd>Takes a SPARQL query as the request body</dd>

<dt><code>PUT http://hostport/quaestor/kb/<em>kb-name</em></code></dt>
<dd>Create a new knowledgebase named `<em>kb-name</em>'.  The request content
contains the metadata for the knowledgebase, which is at present just
a string, but will eventually be RDF.  It is an error if the
knowledgebase already exists.</dd>

<dt><code>PUT http://hostport/quaestor/kb/<em>kb-name</em>/instances</code></dt>
<dd>Upload the request body as the `instances' knowledgebase.  The
request may have a <code>Content-Type</code> header indicating the
format of the body, which, if it is present, <em>must</em> be one of
<code>RDF/XML</code>, <code>RDF/XML-ABBREV</code>,
<code>N-TRIPLE</code> or <code>N3</code>, with the first one being the
default.</dd>

<dt><code>PUT http://hostport/quaestor/code</code></dt>
<dd>Eval the request body as Scheme code.  This is only possible if
the server has been configured to permit it.</dd>

<dt><code>DELETE http://hostport/quaestor/kb/<em>kb-name</em></code></dt>
<dd>Remove the named knowledgebase.</dd>

</dl>

</body>
</html>
